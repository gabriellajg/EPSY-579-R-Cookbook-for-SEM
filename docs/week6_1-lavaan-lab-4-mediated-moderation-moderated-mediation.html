<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Week6_1: Lavaan Lab 4 Mediated Moderation &amp; Moderated Mediation | EPSY:579 R Cookbook for SEM</title>
  <meta name="description" content="Chapter 6 Week6_1: Lavaan Lab 4 Mediated Moderation &amp; Moderated Mediation | EPSY:579 R Cookbook for SEM" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Week6_1: Lavaan Lab 4 Mediated Moderation &amp; Moderated Mediation | EPSY:579 R Cookbook for SEM" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Week6_1: Lavaan Lab 4 Mediated Moderation &amp; Moderated Mediation | EPSY:579 R Cookbook for SEM" />
  
  
  

<meta name="author" content="Gabriella Jiang" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"/>
<link rel="next" href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">EPSY:579 R Cookbook for SEM</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Course</a></li>
<li class="chapter" data-level="2" data-path="r-exercises.html"><a href="r-exercises.html"><i class="fa fa-check"></i><b>2</b> R Exercises</a></li>
<li class="chapter" data-level="3" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html"><i class="fa fa-check"></i><b>3</b> Week4_1: Lavaan Lab 1 Path Analysis Model</a>
<ul>
<li class="chapter" data-level="3.1" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#reading-in-and-working-with-realistic-datasets-in-r"><i class="fa fa-check"></i><b>3.1</b> Reading-In and Working With Realistic Datasets In R</a></li>
<li class="chapter" data-level="3.2" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#sample-covariance-matrices-using-the-cov-function"><i class="fa fa-check"></i><b>3.2</b> Sample Covariance Matrices using the cov() function</a></li>
<li class="chapter" data-level="3.3" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#installing-packages"><i class="fa fa-check"></i><b>3.3</b> Installing Packages</a></li>
<li class="chapter" data-level="3.4" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#loading-packages-libraries-that-you-have-installed"><i class="fa fa-check"></i><b>3.4</b> Loading Packages (Libraries) That You Have Installed</a></li>
<li class="chapter" data-level="3.5" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#using-lavaan-for-path-models"><i class="fa fa-check"></i><b>3.5</b> Using Lavaan For Path Models</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#part-i-follow-the-set-of-equations-we-wrote-in-class"><i class="fa fa-check"></i><b>3.5.1</b> PART I: Follow the set of equations we wrote in class:</a></li>
<li class="chapter" data-level="3.5.2" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#part-ii-lets-run-our-model"><i class="fa fa-check"></i><b>3.5.2</b> PART II Let’s run our model!</a></li>
<li class="chapter" data-level="3.5.3" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#sigma-matrices"><i class="fa fa-check"></i><b>3.5.3</b> Sigma Matrices</a></li>
<li class="chapter" data-level="3.5.4" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#part-iii-summarizing-our-analysis"><i class="fa fa-check"></i><b>3.5.4</b> PART III: Summarizing Our Analysis:</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#plotting-sem-model"><i class="fa fa-check"></i><b>3.6</b> Plotting SEM model</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#customize-it-your-way"><i class="fa fa-check"></i><b>3.6.1</b> customize it your way</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#exercise-how-would-you-fit-the-model-in-saunders-et-al.-2016"><i class="fa fa-check"></i><b>3.7</b> Exercise: How would you fit the model in Saunders et al. (2016)?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><i class="fa fa-check"></i><b>4</b> Week4_2: Lavaan Lab 2 Mediation and Indirect Effects</a>
<ul>
<li class="chapter" data-level="4.1" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#reading-in-and-working-with-realistic-datasets-in-r-1"><i class="fa fa-check"></i><b>4.1</b> Reading-In and Working With Realistic Datasets In R</a></li>
<li class="chapter" data-level="4.2" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#using-lavaan-for-mediation-models---preacher-hayess"><i class="fa fa-check"></i><b>4.2</b> Using Lavaan For Mediation Models - Preacher &amp; Hayes’s</a></li>
<li class="chapter" data-level="4.3" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#part-i-follow-the-two-equations-of-m-dietse-y-bulimia"><i class="fa fa-check"></i><b>4.3</b> PART I: # Follow the two equations of M (DietSE) &amp; Y (Bulimia)</a></li>
<li class="chapter" data-level="4.4" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#part-ii-lets-run-our-model-1"><i class="fa fa-check"></i><b>4.4</b> PART II Let’s run our model!</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#label-the-mediation-effect"><i class="fa fa-check"></i><b>4.4.1</b> Label the mediation effect</a></li>
<li class="chapter" data-level="4.4.2" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#define-a-new-term-for-the-mediation-effect-ab"><i class="fa fa-check"></i><b>4.4.2</b> Define a new term for the mediation effect a*b</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#part-iii-summarizing-our-analysis-1"><i class="fa fa-check"></i><b>4.5</b> PART III: Summarizing Our Analysis:</a></li>
<li class="chapter" data-level="4.6" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#part-iv-bootstrap-confidence-intervals"><i class="fa fa-check"></i><b>4.6</b> PART IV: Bootstrap confidence intervals</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#the-default-one-is-boot.ci.type-perc"><i class="fa fa-check"></i><b>4.6.1</b> The default one is boot.ci.type = “perc”</a></li>
<li class="chapter" data-level="4.6.2" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#bc-bias-corrected-confidence-interval"><i class="fa fa-check"></i><b>4.6.2</b> BC (bias-corrected) confidence interval</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#in-class-exercise-use-lavaan-to-estimate-and-interpret-the-following-model"><i class="fa fa-check"></i><b>4.7</b> In-Class Exercise: Use Lavaan to estimate and interpret the following model</a></li>
<li class="chapter" data-level="4.8" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#exercise-eating-disorder-mediation-analysis"><i class="fa fa-check"></i><b>4.8</b> Exercise: Eating Disorder Mediation Analysis</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#step-1-labeling-and-defining-the-parameters"><i class="fa fa-check"></i><b>4.8.1</b> Step 1: Labeling and defining the parameters</a></li>
<li class="chapter" data-level="4.8.2" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#step-2-fix-all-disturbance-covariances-at-0"><i class="fa fa-check"></i><b>4.8.2</b> Step 2: Fix all disturbance covariances at 0</a></li>
<li class="chapter" data-level="4.8.3" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#step-3-define-new-terms-for-mediation-effects"><i class="fa fa-check"></i><b>4.8.3</b> Step 3: Define new terms for mediation effects</a></li>
<li class="chapter" data-level="4.8.4" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#step-4-bootstrap-confidence-intervals"><i class="fa fa-check"></i><b>4.8.4</b> Step 4: Bootstrap confidence intervals:</a></li>
<li class="chapter" data-level="4.8.5" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#step-5-print-and-interpret-the-mediation-effects"><i class="fa fa-check"></i><b>4.8.5</b> Step 5: Print and interpret the mediation effects;</a></li>
<li class="chapter" data-level="4.8.6" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#plot-it"><i class="fa fa-check"></i><b>4.8.6</b> Plot it!</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><i class="fa fa-check"></i><b>5</b> Week5_2: Lavaan Lab 3 Moderation and Conditional Effects</a>
<ul>
<li class="chapter" data-level="5.1" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#reading-in-datasets"><i class="fa fa-check"></i><b>5.1</b> Reading-In Datasets</a></li>
<li class="chapter" data-level="5.2" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#interactions-in-regression-using-lm"><i class="fa fa-check"></i><b>5.2</b> Interactions in Regression Using lm()</a></li>
<li class="chapter" data-level="5.3" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#interactions-in-lavaan"><i class="fa fa-check"></i><b>5.3</b> Interactions in Lavaan</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#important-note"><i class="fa fa-check"></i><b>5.3.1</b> IMPORTANT NOTE</a></li>
<li class="chapter" data-level="5.3.2" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#follow-the-equation-of-y-depression"><i class="fa fa-check"></i><b>5.3.2</b> Follow the equation of Y (Depression):</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#visual-inspection-of-interactions"><i class="fa fa-check"></i><b>5.4</b> Visual inspection of interactions</a></li>
<li class="chapter" data-level="5.5" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#centering-continuous-moderator"><i class="fa fa-check"></i><b>5.5</b> Centering Continuous Moderator</a></li>
<li class="chapter" data-level="5.6" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#interactions-in-lavaan-continuous-moderator"><i class="fa fa-check"></i><b>5.6</b> Interactions in Lavaan (Continuous Moderator)</a></li>
<li class="chapter" data-level="5.7" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#simple-slopes-analysis"><i class="fa fa-check"></i><b>5.7</b> Simple Slopes Analysis</a></li>
<li class="chapter" data-level="5.8" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#visual-inspection-of-interactions-lm-approach"><i class="fa fa-check"></i><b>5.8</b> Visual inspection of interactions (lm approach)</a></li>
<li class="chapter" data-level="5.9" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#johnson-neyman-interval"><i class="fa fa-check"></i><b>5.9</b> JOHNSON-NEYMAN INTERVAL</a></li>
<li class="chapter" data-level="5.10" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#exercise-how-framing-affects-justifications-for-giving-or-withholding-aid-to-disaster-victims"><i class="fa fa-check"></i><b>5.10</b> Exercise: How Framing Affects Justifications for Giving or Withholding Aid to Disaster Victims</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#data-prep"><i class="fa fa-check"></i><b>5.10.1</b> Data Prep</a></li>
<li class="chapter" data-level="5.10.2" data-path="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html#moderation-with-a-binary-moderator"><i class="fa fa-check"></i><b>5.10.2</b> Moderation with a binary moderator</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><i class="fa fa-check"></i><b>6</b> Week6_1: Lavaan Lab 4 Mediated Moderation &amp; Moderated Mediation</a>
<ul>
<li class="chapter" data-level="6.1" data-path="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#part-1-mediated-moderation-indirect-conditional-effect"><i class="fa fa-check"></i><b>6.1</b> Part 1: Mediated Moderation (Indirect Conditional effect)</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#step-1-read-in-data"><i class="fa fa-check"></i><b>6.1.1</b> Step 1: Read-in Data</a></li>
<li class="chapter" data-level="6.1.2" data-path="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#step-2-create-the-interaction-term-for-moderation-analysis"><i class="fa fa-check"></i><b>6.1.2</b> Step 2: Create the interaction term for Moderation Analysis</a></li>
<li class="chapter" data-level="6.1.3" data-path="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#step-3-write-the-syntax-and-fit-the-model"><i class="fa fa-check"></i><b>6.1.3</b> Step 3: Write the syntax and Fit the model</a></li>
<li class="chapter" data-level="6.1.4" data-path="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#step-4-bootstrap-version"><i class="fa fa-check"></i><b>6.1.4</b> Step 4: Bootstrap Version</a></li>
<li class="chapter" data-level="6.1.5" data-path="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#step-5-effect-size-measures"><i class="fa fa-check"></i><b>6.1.5</b> Step 5: Effect size measures</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#part-2-moderated-mediation-conditional-indirect-effect"><i class="fa fa-check"></i><b>6.2</b> Part 2: Moderated Mediation (Conditional Indirect effect)</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#step-1-product-term"><i class="fa fa-check"></i><b>6.2.1</b> Step 1: Product Term</a></li>
<li class="chapter" data-level="6.2.2" data-path="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#step-2-write-the-syntax-and-fit-the-model"><i class="fa fa-check"></i><b>6.2.2</b> Step 2: Write the syntax and Fit the model</a></li>
<li class="chapter" data-level="6.2.3" data-path="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#step-3-bootstrap-version"><i class="fa fa-check"></i><b>6.2.3</b> Step 3: Bootstrap Version</a></li>
<li class="chapter" data-level="6.2.4" data-path="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#step-4-simple-slopes"><i class="fa fa-check"></i><b>6.2.4</b> Step 4: Simple Slopes</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#johnson-neyman-interval-1"><i class="fa fa-check"></i><b>6.3</b> JOHNSON-NEYMAN INTERVAL</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><i class="fa fa-check"></i><b>7</b> Week6_2: R Lab on Disaster Dataset (Chapman and Lickel, 2016)</a>
<ul>
<li class="chapter" data-level="7.1" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#data-prep-1"><i class="fa fa-check"></i><b>7.1</b> Data Prep</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#scatterplot-matrix"><i class="fa fa-check"></i><b>7.1.1</b> Scatterplot Matrix</a></li>
<li class="chapter" data-level="7.1.2" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#p-value-or-bootstrapped-confidence-interval"><i class="fa fa-check"></i><b>7.1.2</b> p-value or bootstrapped confidence interval?</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#model-1-simple-linear-regression-model"><i class="fa fa-check"></i><b>7.2</b> Model 1: Simple Linear Regression Model</a></li>
<li class="chapter" data-level="7.3" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#model-2-simple-mediation-model"><i class="fa fa-check"></i><b>7.3</b> Model 2: Simple Mediation Model</a></li>
<li class="chapter" data-level="7.4" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#model-3-simple-moderation-model"><i class="fa fa-check"></i><b>7.4</b> Model 3: Simple Moderation Model</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#johnson-neyman-interval-2"><i class="fa fa-check"></i><b>7.4.1</b> JOHNSON-NEYMAN INTERVAL</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#model-4a-moderated-mediation-model---path-a-only"><i class="fa fa-check"></i><b>7.5</b> Model 4a: Moderated Mediation Model - Path a only</a></li>
<li class="chapter" data-level="7.6" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#model-4b-moderated-mediation-model---path-b-only"><i class="fa fa-check"></i><b>7.6</b> Model 4b: Moderated Mediation Model - Path b only</a></li>
<li class="chapter" data-level="7.7" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#model-4c-moderation-mediation-model---path-cprime-only"><i class="fa fa-check"></i><b>7.7</b> Model 4c: Moderation &amp; Mediation Model - Path cprime only</a></li>
<li class="chapter" data-level="7.8" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#model-4d-moderated-mediation-model---path-a-and-cprime"><i class="fa fa-check"></i><b>7.8</b> Model 4d: Moderated Mediation Model - Path a and cprime</a></li>
<li class="chapter" data-level="7.9" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#model-4e-moderated-mediation-model---path-b-and-cprime"><i class="fa fa-check"></i><b>7.9</b> Model 4e: Moderated Mediation Model - Path b and cprime</a></li>
<li class="chapter" data-level="7.10" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#model-4f-moderated-mediation-model---path-a-and-b"><i class="fa fa-check"></i><b>7.10</b> Model 4f: Moderated Mediation Model - Path a and b</a></li>
<li class="chapter" data-level="7.11" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#model-4g-moderated-mediation-model---path-a-b-and-cprime"><i class="fa fa-check"></i><b>7.11</b> Model 4g: Moderated Mediation Model - Path a, b, and cprime</a></li>
<li class="chapter" data-level="7.12" data-path="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html"><a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html#conclusions"><i class="fa fa-check"></i><b>7.12</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="week7_1-lavaan-lab-5-one-factor-cfa-model.html"><a href="week7_1-lavaan-lab-5-one-factor-cfa-model.html"><i class="fa fa-check"></i><b>8</b> Week7_1: Lavaan Lab 5 One-factor CFA Model</a>
<ul>
<li class="chapter" data-level="8.1" data-path="week7_1-lavaan-lab-5-one-factor-cfa-model.html"><a href="week7_1-lavaan-lab-5-one-factor-cfa-model.html#data-prep-2"><i class="fa fa-check"></i><b>8.1</b> Data Prep</a></li>
<li class="chapter" data-level="8.2" data-path="week7_1-lavaan-lab-5-one-factor-cfa-model.html"><a href="week7_1-lavaan-lab-5-one-factor-cfa-model.html#part-1-one-factor-cfa-fixed-loading"><i class="fa fa-check"></i><b>8.2</b> Part 1: One-Factor CFA, Fixed Loading</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="week7_1-lavaan-lab-5-one-factor-cfa-model.html"><a href="week7_1-lavaan-lab-5-one-factor-cfa-model.html#fixed-loading-aka-marker-variable-method."><i class="fa fa-check"></i><b>8.2.1</b> Fixed Loading, AKA Marker Variable method.</a></li>
<li class="chapter" data-level="8.2.2" data-path="week7_1-lavaan-lab-5-one-factor-cfa-model.html"><a href="week7_1-lavaan-lab-5-one-factor-cfa-model.html#change-marker-indicator"><i class="fa fa-check"></i><b>8.2.2</b> Change marker indicator</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="week7_1-lavaan-lab-5-one-factor-cfa-model.html"><a href="week7_1-lavaan-lab-5-one-factor-cfa-model.html#part-2-one-factor-cfa-fixed-factor-variance"><i class="fa fa-check"></i><b>8.3</b> Part 2: One-Factor CFA, Fixed Factor Variance</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="week7_1-lavaan-lab-5-one-factor-cfa-model.html"><a href="week7_1-lavaan-lab-5-one-factor-cfa-model.html#fixed-factor-method"><i class="fa fa-check"></i><b>8.3.1</b> Fixed Factor Method</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="week7_1-lavaan-lab-5-one-factor-cfa-model.html"><a href="week7_1-lavaan-lab-5-one-factor-cfa-model.html#exercise-one-factor-cfa-model"><i class="fa fa-check"></i><b>8.4</b> Exercise: One-factor CFA Model</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="week7_1-lavaan-lab-5-one-factor-cfa-model.html"><a href="week7_1-lavaan-lab-5-one-factor-cfa-model.html#fixed-loading"><i class="fa fa-check"></i><b>8.4.1</b> Fixed Loading</a></li>
<li class="chapter" data-level="8.4.2" data-path="week7_1-lavaan-lab-5-one-factor-cfa-model.html"><a href="week7_1-lavaan-lab-5-one-factor-cfa-model.html#fixed-factor"><i class="fa fa-check"></i><b>8.4.2</b> Fixed Factor</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="week8_1-lavaan-lab-6-two-factor-cfa-model.html"><a href="week8_1-lavaan-lab-6-two-factor-cfa-model.html"><i class="fa fa-check"></i><b>9</b> Week8_1: Lavaan Lab 6 Two-factor CFA Model</a>
<ul>
<li class="chapter" data-level="9.1" data-path="week8_1-lavaan-lab-6-two-factor-cfa-model.html"><a href="week8_1-lavaan-lab-6-two-factor-cfa-model.html#data-prep-3"><i class="fa fa-check"></i><b>9.1</b> Data Prep</a></li>
<li class="chapter" data-level="9.2" data-path="week8_1-lavaan-lab-6-two-factor-cfa-model.html"><a href="week8_1-lavaan-lab-6-two-factor-cfa-model.html#part-1-two-factor-cfa-fixed-loading"><i class="fa fa-check"></i><b>9.2</b> Part 1: Two-Factor CFA, Fixed Loading</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="week8_1-lavaan-lab-6-two-factor-cfa-model.html"><a href="week8_1-lavaan-lab-6-two-factor-cfa-model.html#fixed-loading-aka-marker-variable-method.-1"><i class="fa fa-check"></i><b>9.2.1</b> Fixed Loading, AKA Marker Variable method.</a></li>
<li class="chapter" data-level="9.2.2" data-path="week8_1-lavaan-lab-6-two-factor-cfa-model.html"><a href="week8_1-lavaan-lab-6-two-factor-cfa-model.html#how-well-does-this-model-fit-to-the-data"><i class="fa fa-check"></i><b>9.2.2</b> How well does this model fit to the data?</a></li>
<li class="chapter" data-level="9.2.3" data-path="week8_1-lavaan-lab-6-two-factor-cfa-model.html"><a href="week8_1-lavaan-lab-6-two-factor-cfa-model.html#fundamental-equation-of-sem"><i class="fa fa-check"></i><b>9.2.3</b> Fundamental Equation of SEM</a></li>
<li class="chapter" data-level="9.2.4" data-path="week8_1-lavaan-lab-6-two-factor-cfa-model.html"><a href="week8_1-lavaan-lab-6-two-factor-cfa-model.html#interpretion"><i class="fa fa-check"></i><b>9.2.4</b> Interpretion</a></li>
<li class="chapter" data-level="9.2.5" data-path="week8_1-lavaan-lab-6-two-factor-cfa-model.html"><a href="week8_1-lavaan-lab-6-two-factor-cfa-model.html#standardized-solutions-std.lv-vs.-std.all"><i class="fa fa-check"></i><b>9.2.5</b> Standardized solutions: Std.lv vs. Std.all</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="week8_1-lavaan-lab-6-two-factor-cfa-model.html"><a href="week8_1-lavaan-lab-6-two-factor-cfa-model.html#part-2-two-factor-cfa-fixed-factor-variance"><i class="fa fa-check"></i><b>9.3</b> Part 2: Two-Factor CFA, Fixed Factor Variance</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="week8_1-lavaan-lab-6-two-factor-cfa-model.html"><a href="week8_1-lavaan-lab-6-two-factor-cfa-model.html#fixed-factor-method-1"><i class="fa fa-check"></i><b>9.3.1</b> Fixed Factor Method</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="week8_1-lavaan-lab-7-two-factor-sr-model.html"><a href="week8_1-lavaan-lab-7-two-factor-sr-model.html"><i class="fa fa-check"></i><b>10</b> Week8_1: Lavaan Lab 7 Two-factor SR Model</a>
<ul>
<li class="chapter" data-level="10.1" data-path="week8_1-lavaan-lab-7-two-factor-sr-model.html"><a href="week8_1-lavaan-lab-7-two-factor-sr-model.html#data-prep-4"><i class="fa fa-check"></i><b>10.1</b> Data Prep</a></li>
<li class="chapter" data-level="10.2" data-path="week8_1-lavaan-lab-7-two-factor-sr-model.html"><a href="week8_1-lavaan-lab-7-two-factor-sr-model.html#part-1-two-factor-sr-fixed-loading"><i class="fa fa-check"></i><b>10.2</b> Part 1: Two-Factor SR, Fixed Loading</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="week8_1-lavaan-lab-7-two-factor-sr-model.html"><a href="week8_1-lavaan-lab-7-two-factor-sr-model.html#fixed-loading-aka-marker-variable-method.-2"><i class="fa fa-check"></i><b>10.2.1</b> Fixed Loading, AKA Marker Variable method.</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="week8_1-lavaan-lab-7-two-factor-sr-model.html"><a href="week8_1-lavaan-lab-7-two-factor-sr-model.html#part-2-two-factor-sr-fixed-factor-variance"><i class="fa fa-check"></i><b>10.3</b> Part 2: Two-Factor SR, Fixed Factor Variance</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="week8_1-lavaan-lab-7-two-factor-sr-model.html"><a href="week8_1-lavaan-lab-7-two-factor-sr-model.html#fixed-factor-method-2"><i class="fa fa-check"></i><b>10.3.1</b> Fixed Factor Method</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="week8_1-lavaan-lab-7-two-factor-sr-model.html"><a href="week8_1-lavaan-lab-7-two-factor-sr-model.html#part-3-exercise-what-fun-3-factor-sr-model"><i class="fa fa-check"></i><b>10.4</b> Part 3: Exercise (what fun!): 3-Factor SR Model</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EPSY:579 R Cookbook for SEM</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Week6_1: Lavaan Lab 4 Mediated Moderation &amp; Moderated Mediation</h1>
<p>In this lab, we will learn how to:</p>
<ul>
<li>Estimate the mediated moderation model</li>
<li>Estimate the moderated mediation model</li>
<li>Bootstrap the effects</li>
<li>Conduct simple slope analyses</li>
</ul>
<!------------------------------>
<div id="part-1-mediated-moderation-indirect-conditional-effect" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Part 1: Mediated Moderation (Indirect Conditional effect)</h2>
<!------------------------------>
<div id="step-1-read-in-data" class="section level3" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Step 1: Read-in Data</h3>
<p>Imagine that we extended our CBT study by adding a mediator: the average number of daily negative thoughts reported at the end of six weeks.</p>
<p>The hypothesis we will test is that NegThoughts mediates the CBT*NeedCog -&gt; Depression path</p>
<p>Let’s read this dataset in:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb168-1" aria-hidden="true" tabindex="-1"></a>cbtData <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;dataInClass.csv&quot;</span>, <span class="at">header =</span> T, <span class="at">sep =</span> <span class="st">&#39;,&#39;</span>)</span></code></pre></div>
<p>This time we work with the continuous version of the moderator: NeedCogCont.</p>
<p>Let’s examine their means and standard deviations:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(cbtData[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)], <span class="dv">2</span>, mean)</span></code></pre></div>
<pre><code>##     CBTDummy      NeedCog  NegThoughts   Depression  NeedCogCont 
##  0.500000000  0.309000000 -1.944249996 -1.589356290  0.005925852</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(cbtData[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)], <span class="dv">2</span>, sd)</span></code></pre></div>
<pre><code>##    CBTDummy     NeedCog NegThoughts  Depression NeedCogCont 
##   0.5002502   0.4623124   3.1877174   5.6506763   0.9974319</code></pre>
<p>Why dropping the first two variables?</p>
<ul>
<li>The first two variables ID and CBT are not numerical and have no means.</li>
</ul>
<p>NeedCogCont has been standardized already, which is helpful.</p>
<ul>
<li>If not, don’t forget to use scale() function to center the continuous variables.</li>
</ul>
</div>
<div id="step-2-create-the-interaction-term-for-moderation-analysis" class="section level3" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> Step 2: Create the interaction term for Moderation Analysis</h3>
<p>To test the moderation effect, we have to manually create a product term in the dataset before running our model:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb173-1" aria-hidden="true" tabindex="-1"></a>cbtData<span class="sc">$</span>CBTxNeedCogCont <span class="ot">&lt;-</span> cbtData<span class="sc">$</span>CBTDummy <span class="sc">*</span> cbtData<span class="sc">$</span>NeedCogCont</span></code></pre></div>
<p>Let’s look at cbtData again:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cbtData)</span></code></pre></div>
<pre><code>##   ID              CBT CBTDummy NeedCog NegThoughts Depression NeedCogCont CBTxNeedCogCont
## 1  1    CBT Treatment        1       0  -4.1453029  -5.802172   0.0182802       0.0182802
## 2  2 Information Only        0       1   2.1775218   5.496665   1.4238703       0.0000000
## 3  3    CBT Treatment        1       0  -1.5551349  -1.950566  -1.0151726      -1.0151726
## 4  4 Information Only        0       0   0.1679286   2.655801  -0.8547152       0.0000000
## 5  5 Information Only        0       1   2.5103192   6.855488   0.6759705       0.0000000
## 6  6    CBT Treatment        1       0  -3.1626670  -2.968198  -0.9123426      -0.9123426</code></pre>
</div>
<div id="step-3-write-the-syntax-and-fit-the-model" class="section level3" number="6.1.3">
<h3><span class="header-section-number">6.1.3</span> Step 3: Write the syntax and Fit the model</h3>
<p>load the package:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan)</span></code></pre></div>
<p>Follow the two equations to write the model syntax:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb177-1" aria-hidden="true" tabindex="-1"></a>ex1MedModerationBasic <span class="ot">&lt;-</span> <span class="st">&quot; </span></span>
<span id="cb177-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb177-2" aria-hidden="true" tabindex="-1"></a><span class="st">  # label the coefficients:</span></span>
<span id="cb177-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb177-3" aria-hidden="true" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb177-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb177-4" aria-hidden="true" tabindex="-1"></a><span class="st">  NegThoughts ~ a_m1*CBTxNeedCogCont + a_m2*NeedCogCont + a_m3*CBTDummy</span></span>
<span id="cb177-5"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb177-5" aria-hidden="true" tabindex="-1"></a><span class="st">    Depression ~ b1*CBTDummy + b2*NeedCogCont + b3*CBTxNeedCogCont + bM*NegThoughts</span></span>
<span id="cb177-6"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb177-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-7"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb177-7" aria-hidden="true" tabindex="-1"></a><span class="st">  #Define New Parameter Using :=</span></span>
<span id="cb177-8"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb177-8" aria-hidden="true" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb177-9"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb177-9" aria-hidden="true" tabindex="-1"></a><span class="st">  #Mediated Moderation effect  </span></span>
<span id="cb177-10"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb177-10" aria-hidden="true" tabindex="-1"></a><span class="st">  MedMod_ab := a_m1*bM</span></span>
<span id="cb177-11"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb177-11" aria-hidden="true" tabindex="-1"></a><span class="st">  TotalMod := MedMod_ab + b3</span></span>
<span id="cb177-12"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb177-12" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;</span>  </span></code></pre></div>
<p>Since we included the intercept term, we need to ask sem() to include the meanstructure:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb178-1" aria-hidden="true" tabindex="-1"></a>ex1fit <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> ex1MedModerationBasic, </span>
<span id="cb178-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb178-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span> cbtData, </span>
<span id="cb178-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb178-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">fixed.x =</span> <span class="cn">FALSE</span>,</span>
<span id="cb178-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb178-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">meanstructure =</span> <span class="cn">TRUE</span>)</span>
<span id="cb178-5"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb178-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ex1fit, <span class="at">ci =</span> T)</span></code></pre></div>
<pre><code>## lavaan 0.6-10 ended normally after 40 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                        20
##                                                       
##   Number of observations                          1000
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##   NegThoughts ~                                                         
##     CBTxNCC (a_m1)   -3.071    0.064  -48.104    0.000   -3.196   -2.945
##     NdCgCnt (a_m2)    2.000    0.044   45.075    0.000    1.913    2.087
##     CBTDmmy (a_m3)   -5.060    0.064  -79.562    0.000   -5.185   -4.936
##   Depression ~                                                          
##     CBTDmmy   (b1)   -1.240    0.137   -9.055    0.000   -1.509   -0.972
##     NdCgCnt   (b2)    0.141    0.061    2.292    0.022    0.020    0.261
##     CBTxNCC   (b3)   -0.109    0.092   -1.180    0.238   -0.290    0.072
##     NgThght   (bM)    1.582    0.025   62.899    0.000    1.533    1.631
## 
## Covariances:
##                      Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##   CBTxNeedCogCont ~~                                                      
##     NeedCogCont         0.480    0.027   18.055    0.000    0.428    0.532
##     CBTDummy           -0.008    0.011   -0.764    0.445   -0.030    0.013
##   NeedCogCont ~~                                                          
##     CBTDummy           -0.020    0.016   -1.249    0.212   -0.051    0.011
## 
## Intercepts:
##                    Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##    .NegThoughts       0.523    0.045   11.618    0.000    0.434    0.611
##    .Depression        2.104    0.038   55.199    0.000    2.029    2.179
##     CBTxNeedCogCnt   -0.017    0.022   -0.764    0.445   -0.060    0.026
##     NeedCogCont       0.006    0.032    0.188    0.851   -0.056    0.068
##     CBTDummy          0.500    0.016   31.623    0.000    0.469    0.531
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##    .NegThoughts       1.010    0.045   22.361    0.000    0.921    1.098
##    .Depression        0.639    0.029   22.361    0.000    0.583    0.695
##     CBTxNeedCogCnt    0.480    0.021   22.361    0.000    0.438    0.522
##     NeedCogCont       0.994    0.044   22.361    0.000    0.907    1.081
##     CBTDummy          0.250    0.011   22.361    0.000    0.228    0.272
## 
## Defined Parameters:
##                    Estimate  Std.Err  z-value  P(&gt;|z|) ci.lower ci.upper
##     MedMod_ab        -4.858    0.127  -38.211    0.000   -5.107   -4.609
##     TotalMod         -4.967    0.113  -43.943    0.000   -5.188   -4.745</code></pre>
<p>Are we done?</p>
</div>
<div id="step-4-bootstrap-version" class="section level3" number="6.1.4">
<h3><span class="header-section-number">6.1.4</span> Step 4: Bootstrap Version</h3>
<p>We need to request Bootstrap because this involves testing a mediation effect MedMod_ab.</p>
<p>Remember to set a seed:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb180-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb180-2" aria-hidden="true" tabindex="-1"></a>ex1Boot <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> ex1MedModerationBasic, </span>
<span id="cb180-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb180-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> cbtData, </span>
<span id="cb180-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb180-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">fixed.x =</span> <span class="cn">FALSE</span>,</span>
<span id="cb180-5"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb180-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">meanstructure =</span> <span class="cn">TRUE</span>,</span>
<span id="cb180-6"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb180-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">se =</span> <span class="st">&quot;bootstrap&quot;</span>, </span>
<span id="cb180-7"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb180-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">bootstrap =</span> <span class="dv">1000</span>) </span></code></pre></div>
<ul>
<li>This requires the full dataset - need more than the covariance matrix.</li>
<li>se = “bootstrap” requests bootstrap standard errors.</li>
<li>bootstrap = 1000 requests 1000 bootstrap samples.</li>
</ul>
<p>Request BC confidence interval:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">parameterEstimates</span>(ex1Boot, </span>
<span id="cb181-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb181-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">level =</span> <span class="fl">0.95</span>, </span>
<span id="cb181-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb181-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">boot.ci.type=</span><span class="st">&quot;bca.simple&quot;</span>,</span>
<span id="cb181-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb181-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">standardized =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Warning in norm.inter(t, adj.alpha): extreme order statistics used as endpoints</code></pre>
<pre><code>##                lhs op             rhs     label    est    se       z pvalue ci.lower ci.upper
## 1      NegThoughts  ~ CBTxNeedCogCont      a_m1 -3.071 0.067 -45.675  0.000   -3.195   -2.922
## 2      NegThoughts  ~     NeedCogCont      a_m2  2.000 0.048  42.047  0.000    1.902    2.093
## 3      NegThoughts  ~        CBTDummy      a_m3 -5.060 0.064 -78.764  0.000   -5.183   -4.930
## 4       Depression  ~        CBTDummy        b1 -1.240 0.133  -9.337  0.000   -1.493   -0.979
## 5       Depression  ~     NeedCogCont        b2  0.141 0.059   2.379  0.017    0.020    0.256
## 6       Depression  ~ CBTxNeedCogCont        b3 -0.109 0.088  -1.232  0.218   -0.270    0.071
## 7       Depression  ~     NegThoughts        bM  1.582 0.024  65.833  0.000    1.539    1.632
## 8      NegThoughts ~~     NegThoughts            1.010 0.042  23.885  0.000    0.937    1.109
## 9       Depression ~~      Depression            0.639 0.030  21.077  0.000    0.585    0.708
## 10 CBTxNeedCogCont ~~ CBTxNeedCogCont            0.480 0.034  14.292  0.000    0.411    0.545
## 11 CBTxNeedCogCont ~~     NeedCogCont            0.480 0.034  14.314  0.000    0.412    0.545
## 12 CBTxNeedCogCont ~~        CBTDummy           -0.008 0.011  -0.781  0.435   -0.030    0.013
## 13     NeedCogCont ~~     NeedCogCont            0.994 0.044  22.749  0.000    0.909    1.078
## 14     NeedCogCont ~~        CBTDummy           -0.020 0.016  -1.258  0.208   -0.051    0.013
## 15        CBTDummy ~~        CBTDummy            0.250 0.000 619.384  0.000    0.250    0.250
## 16     NegThoughts ~1                            0.523 0.046  11.401  0.000    0.436    0.616
## 17      Depression ~1                            2.104 0.038  54.754  0.000    2.029    2.177
## 18 CBTxNeedCogCont ~1                           -0.017 0.021  -0.781  0.435   -0.059    0.026
## 19     NeedCogCont ~1                            0.006 0.031   0.190  0.849   -0.062    0.063
## 20        CBTDummy ~1                            0.500 0.016  30.669  0.000    0.466    0.528
## 21       MedMod_ab :=         a_m1*bM MedMod_ab -4.858 0.125 -38.863  0.000   -5.089   -4.602
## 22        TotalMod :=    MedMod_ab+b3  TotalMod -4.967 0.118 -42.112  0.000   -5.195   -4.720
##    std.lv std.all std.nox
## 1  -3.071  -0.668  -0.964
## 2   2.000   0.626   0.628
## 3  -5.060  -0.794  -1.588
## 4  -1.240  -0.110  -0.220
## 5   0.141   0.025   0.025
## 6  -0.109  -0.013  -0.019
## 7   1.582   0.892   0.892
## 8   1.010   0.099   0.099
## 9   0.639   0.020   0.020
## 10  0.480   1.000   0.480
## 11  0.480   0.695   0.480
## 12 -0.008  -0.024  -0.008
## 13  0.994   1.000   0.994
## 14 -0.020  -0.040  -0.020
## 15  0.250   1.000   0.250
## 16  0.523   0.164   0.164
## 17  2.104   0.373   0.373
## 18 -0.017  -0.024  -0.017
## 19  0.006   0.006   0.006
## 20  0.500   1.000   0.500
## 21 -4.858  -0.596  -0.860
## 22 -4.967  -0.609  -0.879</code></pre>
<p>Warning message:</p>
<p>In norm.inter(t, adj.alpha) : extreme order statistics used as endpoints</p>
<p><a href="https://rcompanion.org/handbook/E_04.html" class="uri">https://rcompanion.org/handbook/E_04.html</a></p>
<p>The BCa (bias corrected, accelerated) is often cited as the best for theoretical reasons. The percentile method is also cited as typically good. However, if you get the “extreme order statistics used as endpoints” warning message, use a different test. For small data sets, the interval from BCa may be wider than for some other methods.</p>
</div>
<div id="step-5-effect-size-measures" class="section level3" number="6.1.5">
<h3><span class="header-section-number">6.1.5</span> Step 5: Effect size measures</h3>
<p>Measure 1: Completely Standardized Indirect Effect (CSIE)</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb184-1" aria-hidden="true" tabindex="-1"></a>beta_a_m1 <span class="ot">=</span> <span class="sc">-</span><span class="fl">0.668</span></span>
<span id="cb184-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb184-2" aria-hidden="true" tabindex="-1"></a>beta_bM <span class="ot">=</span> <span class="fl">0.892</span></span>
<span id="cb184-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb184-3" aria-hidden="true" tabindex="-1"></a>es1 <span class="ot">=</span> beta_a_m1<span class="sc">*</span>beta_bM</span>
<span id="cb184-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb184-4" aria-hidden="true" tabindex="-1"></a>es1</span></code></pre></div>
<pre><code>## [1] -0.595856</code></pre>
<ul>
<li>According to Cohen, .01-.09 is small, .10-.25 is medium, and .25 + is large</li>
<li>This is a large mediation effect</li>
</ul>
<p>Measure 2:</p>
<ul>
<li>Use unstandardized parameter estimates:</li>
</ul>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb186-1" aria-hidden="true" tabindex="-1"></a>TotalMod <span class="ot">=</span> <span class="sc">-</span><span class="fl">4.967</span></span>
<span id="cb186-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb186-2" aria-hidden="true" tabindex="-1"></a>MedMod_ab <span class="ot">=</span> <span class="sc">-</span><span class="fl">4.858</span></span>
<span id="cb186-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb186-3" aria-hidden="true" tabindex="-1"></a>prop <span class="ot">=</span> MedMod_ab<span class="sc">/</span>TotalMod <span class="co">#97.8%</span></span>
<span id="cb186-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb186-4" aria-hidden="true" tabindex="-1"></a>prop</span></code></pre></div>
<pre><code>## [1] 0.9780552</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb188-1" aria-hidden="true" tabindex="-1"></a>b3 <span class="ot">=</span> <span class="sc">-</span><span class="fl">0.109</span> <span class="co"># pvalue=0.218 # nonsig</span></span></code></pre></div>
<ul>
<li>Mediated% = indirect effect / total effect = ab / c</li>
<li>Consistent mediation</li>
<li>Complete mediation as the remaining direct effect is nonsig and prop &gt; 80%</li>
</ul>
<!------------------------------>
</div>
</div>
<div id="part-2-moderated-mediation-conditional-indirect-effect" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Part 2: Moderated Mediation (Conditional Indirect effect)</h2>
<!------------------------------>
<p>In this lab, we’ll test this first-stage moderated mediation model in which NeedCog moderates the CBT -&gt; NegThoughts path</p>
<div id="step-1-product-term" class="section level3" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Step 1: Product Term</h3>
<p>We already have the product term in the dataset:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb189-1" aria-hidden="true" tabindex="-1"></a>cbtData<span class="sc">$</span>CBTxNeedCogCont <span class="ot">&lt;-</span> cbtData<span class="sc">$</span>CBTDummy <span class="sc">*</span> cbtData<span class="sc">$</span>NeedCogCont</span></code></pre></div>
<p>If NeedCog moderates the NegThoughts -&gt; Depression path, then we center NegThoughts and create a product term between centered NegThoughts*NeedCogCont (making sense?)</p>
</div>
<div id="step-2-write-the-syntax-and-fit-the-model" class="section level3" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> Step 2: Write the syntax and Fit the model</h3>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb190-1" aria-hidden="true" tabindex="-1"></a>ex2ModMediationBasic <span class="ot">&lt;-</span> <span class="st">&quot; </span></span>
<span id="cb190-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb190-2" aria-hidden="true" tabindex="-1"></a><span class="st">  NegThoughts ~ a1*CBTDummy + a2*NeedCogCont + a3*CBTxNeedCogCont </span></span>
<span id="cb190-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="st">    Depression ~ b*NegThoughts + cprime*CBTDummy</span></span>
<span id="cb190-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb190-4" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;</span></span></code></pre></div>
<p>We’ll need to define the Index of Moderated Mediation in the syntax:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb191-1" aria-hidden="true" tabindex="-1"></a>ex2ModMediation <span class="ot">&lt;-</span> <span class="st">&quot; </span></span>
<span id="cb191-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb191-2" aria-hidden="true" tabindex="-1"></a><span class="st">    #Regressions</span></span>
<span id="cb191-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb191-3" aria-hidden="true" tabindex="-1"></a><span class="st">  NegThoughts ~ a1*CBTDummy + a2*NeedCogCont + a3*CBTxNeedCogCont </span></span>
<span id="cb191-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb191-4" aria-hidden="true" tabindex="-1"></a><span class="st">    Depression ~ b*NegThoughts + cprime*CBTDummy</span></span>
<span id="cb191-5"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb191-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-6"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb191-6" aria-hidden="true" tabindex="-1"></a><span class="st">  #Index of Moderated Mediation</span></span>
<span id="cb191-7"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb191-7" aria-hidden="true" tabindex="-1"></a><span class="st">  IndexOfModMed := a3*b</span></span>
<span id="cb191-8"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb191-8" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;</span>  </span></code></pre></div>
</div>
<div id="step-3-bootstrap-version" class="section level3" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> Step 3: Bootstrap Version</h3>
<p>Since this model involves tests of indirect effects</p>
<p>let’s jump to the bootstrap test:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb192-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb192-2" aria-hidden="true" tabindex="-1"></a>ex2Boot <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> ex2ModMediation, </span>
<span id="cb192-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb192-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> cbtData, </span>
<span id="cb192-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb192-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">fixed.x =</span> <span class="cn">FALSE</span>,</span>
<span id="cb192-5"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb192-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">meanstructure =</span> <span class="cn">TRUE</span>,</span>
<span id="cb192-6"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb192-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">se =</span> <span class="st">&quot;bootstrap&quot;</span>, </span>
<span id="cb192-7"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb192-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">bootstrap =</span> <span class="dv">1000</span>) </span></code></pre></div>
<p>You can further request a BC (bias-corrected) by adding an argument boot.ci.type = “bca.simple” to parameterEstimates():</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">parameterEstimates</span>(ex2Boot, </span>
<span id="cb193-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb193-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">level =</span> <span class="fl">0.95</span>, </span>
<span id="cb193-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb193-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">boot.ci.type=</span><span class="st">&quot;bca.simple&quot;</span>,</span>
<span id="cb193-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb193-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">standardized =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Warning in norm.inter(t, adj.alpha): extreme order statistics used as endpoints</code></pre>
<pre><code>##                lhs op             rhs         label    est    se       z pvalue ci.lower
## 1      NegThoughts  ~        CBTDummy            a1 -5.060 0.064 -78.764  0.000   -5.183
## 2      NegThoughts  ~     NeedCogCont            a2  2.000 0.048  42.047  0.000    1.902
## 3      NegThoughts  ~ CBTxNeedCogCont            a3 -3.071 0.067 -45.675  0.000   -3.195
## 4       Depression  ~     NegThoughts             b  1.617 0.013 124.544  0.000    1.592
## 5       Depression  ~        CBTDummy        cprime -1.066 0.084 -12.758  0.000   -1.216
## 6      NegThoughts ~~     NegThoughts                1.010 0.042  23.885  0.000    0.937
## 7       Depression ~~      Depression                0.645 0.031  21.047  0.000    0.592
## 8         CBTDummy ~~        CBTDummy                0.250 0.000 619.383  0.000    0.250
## 9         CBTDummy ~~     NeedCogCont               -0.020 0.016  -1.258  0.208   -0.051
## 10        CBTDummy ~~ CBTxNeedCogCont               -0.008 0.011  -0.781  0.435   -0.030
## 11     NeedCogCont ~~     NeedCogCont                0.994 0.044  22.749  0.000    0.909
## 12     NeedCogCont ~~ CBTxNeedCogCont                0.480 0.034  14.314  0.000    0.412
## 13 CBTxNeedCogCont ~~ CBTxNeedCogCont                0.480 0.034  14.292  0.000    0.411
## 14     NegThoughts ~1                                0.523 0.046  11.401  0.000    0.436
## 15      Depression ~1                                2.089 0.037  56.930  0.000    2.021
## 16        CBTDummy ~1                                0.500 0.016  30.669  0.000    0.467
## 17     NeedCogCont ~1                                0.006 0.031   0.190  0.849   -0.062
## 18 CBTxNeedCogCont ~1                               -0.017 0.021  -0.781  0.435   -0.059
## 19   IndexOfModMed :=            a3*b IndexOfModMed -4.967 0.114 -43.431  0.000   -5.180
##    ci.upper std.lv std.all std.nox
## 1    -4.930 -5.060  -0.794  -1.588
## 2     2.093  2.000   0.626   0.628
## 3    -2.922 -3.071  -0.668  -0.964
## 4     1.642  1.617   0.912   0.912
## 5    -0.899 -1.066  -0.094  -0.189
## 6     1.109  1.010   0.099   0.099
## 7     0.714  0.645   0.020   0.020
## 8     0.250  0.250   1.000   0.250
## 9     0.013 -0.020  -0.040  -0.020
## 10    0.013 -0.008  -0.024  -0.008
## 11    1.078  0.994   1.000   0.994
## 12    0.545  0.480   0.695   0.480
## 13    0.545  0.480   1.000   0.480
## 14    0.616  0.523   0.164   0.164
## 15    2.160  2.089   0.370   0.370
## 16    0.529  0.500   1.000   0.500
## 17    0.063  0.006   0.006   0.006
## 18    0.026 -0.017  -0.024  -0.017
## 19   -4.727 -4.967  -0.609  -0.879</code></pre>
<p>Defined Parameters:</p>
<pre><code>               Estimate  Std.Err  ci.lower  ci.upper   std.all

IndexOfModMed    -4.967    0.114    -5.180    -4.727    -0.609</code></pre>
<p>NeedCogCont significantly moderates CBT -&gt; NegThoughts -&gt; Depression indirect effect through moderating the first stage of the indirect effect</p>
<ul>
<li>Since we expect the effect of CBT on Depression to be negative (CBT reduces Depression)</li>
<li>And IndexOfModMed is also negative</li>
<li>We’ll say NeedCogCont strengthens the indirect effect of CBT on Depression through NegThoughts</li>
<li>The higher need for cognition, the stronger the indirect effect, and the more effect mediated by NegThoughts</li>
</ul>
</div>
<div id="step-4-simple-slopes" class="section level3" number="6.2.4">
<h3><span class="header-section-number">6.2.4</span> Step 4: Simple Slopes</h3>
<p>As a follow-up analysis to a significant moderation effect, we conduct simple slope anlaysis:</p>
<p>Let’s use pick-a-point (Rogosa, 1980) and plot the indirect effects at designated levels of NeedCogCont:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(cbtData<span class="sc">$</span>NeedCogCont) <span class="co">#0</span></span></code></pre></div>
<pre><code>## [1] 0.005925852</code></pre>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(cbtData<span class="sc">$</span>NeedCogCont) <span class="co"># 1</span></span></code></pre></div>
<pre><code>## [1] 0.9974319</code></pre>
<p>Three representative levels:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(cbtData<span class="sc">$</span>NeedCogCont) <span class="sc">-</span> <span class="fu">sd</span>(cbtData<span class="sc">$</span>NeedCogCont) <span class="co"># -1</span></span></code></pre></div>
<pre><code>## [1] -0.991506</code></pre>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(cbtData<span class="sc">$</span>NeedCogCont)  <span class="co">#0</span></span></code></pre></div>
<pre><code>## [1] 0.005925852</code></pre>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(cbtData<span class="sc">$</span>NeedCogCont) <span class="sc">+</span> <span class="fu">sd</span>(cbtData<span class="sc">$</span>NeedCogCont) <span class="co"># 1</span></span></code></pre></div>
<pre><code>## [1] 1.003358</code></pre>
<p>let’s define the Conditional Indirect Effects in the syntax:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-1" aria-hidden="true" tabindex="-1"></a>ex3ModMediation <span class="ot">&lt;-</span> <span class="st">&quot; </span></span>
<span id="cb207-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-2" aria-hidden="true" tabindex="-1"></a><span class="st">    #Regressions</span></span>
<span id="cb207-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-3" aria-hidden="true" tabindex="-1"></a><span class="st">  NegThoughts ~ a1*CBTDummy + a2*NeedCogCont + a3*CBTxNeedCogCont </span></span>
<span id="cb207-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-4" aria-hidden="true" tabindex="-1"></a><span class="st">    Depression ~ b*NegThoughts + cprime*CBTDummy</span></span>
<span id="cb207-5"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-6"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-6" aria-hidden="true" tabindex="-1"></a><span class="st">  #Index of Moderated Mediation</span></span>
<span id="cb207-7"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-7" aria-hidden="true" tabindex="-1"></a><span class="st">  IndexOfModMed := a3*b</span></span>
<span id="cb207-8"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-9"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-9" aria-hidden="true" tabindex="-1"></a><span class="st">  #Simple Slopes</span></span>
<span id="cb207-10"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-10" aria-hidden="true" tabindex="-1"></a><span class="st">    aSSLow := a1+a3*(-1)    </span></span>
<span id="cb207-11"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-11" aria-hidden="true" tabindex="-1"></a><span class="st">    aSSMean := a1+a3*0      </span></span>
<span id="cb207-12"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-12" aria-hidden="true" tabindex="-1"></a><span class="st">    aSSHigh := a1+a3*1      </span></span>
<span id="cb207-13"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-14"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-14" aria-hidden="true" tabindex="-1"></a><span class="st">    #Conditional Indirect Effects</span></span>
<span id="cb207-15"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-15" aria-hidden="true" tabindex="-1"></a><span class="st">    abLow := aSSLow*b</span></span>
<span id="cb207-16"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-16" aria-hidden="true" tabindex="-1"></a><span class="st">    abMean := aSSMean*b</span></span>
<span id="cb207-17"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-17" aria-hidden="true" tabindex="-1"></a><span class="st">    abHigh := aSSHigh*b</span></span>
<span id="cb207-18"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb207-18" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;</span>  </span></code></pre></div>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb208-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb208-2" aria-hidden="true" tabindex="-1"></a>ex3Boot <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> ex3ModMediation, </span>
<span id="cb208-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb208-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> cbtData, </span>
<span id="cb208-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb208-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">se =</span> <span class="st">&quot;bootstrap&quot;</span>, </span>
<span id="cb208-5"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb208-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">bootstrap =</span> <span class="dv">1000</span>, </span>
<span id="cb208-6"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb208-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">fixed.x=</span><span class="cn">FALSE</span>,</span>
<span id="cb208-7"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb208-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">meanstructure =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">parameterEstimates</span>(ex3Boot, </span>
<span id="cb209-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb209-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">level =</span> <span class="fl">0.95</span>, </span>
<span id="cb209-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb209-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">boot.ci.type=</span><span class="st">&quot;bca.simple&quot;</span>,</span>
<span id="cb209-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb209-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">standardized =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Warning in norm.inter(t, adj.alpha): extreme order statistics used as endpoints</code></pre>
<pre><code>##                lhs op             rhs         label     est    se       z pvalue ci.lower
## 1      NegThoughts  ~        CBTDummy            a1  -5.060 0.064 -78.764  0.000   -5.183
## 2      NegThoughts  ~     NeedCogCont            a2   2.000 0.048  42.047  0.000    1.902
## 3      NegThoughts  ~ CBTxNeedCogCont            a3  -3.071 0.067 -45.675  0.000   -3.195
## 4       Depression  ~     NegThoughts             b   1.617 0.013 124.544  0.000    1.592
## 5       Depression  ~        CBTDummy        cprime  -1.066 0.084 -12.758  0.000   -1.216
## 6      NegThoughts ~~     NegThoughts                 1.010 0.042  23.885  0.000    0.937
## 7       Depression ~~      Depression                 0.645 0.031  21.047  0.000    0.592
## 8         CBTDummy ~~        CBTDummy                 0.250 0.000 619.383  0.000    0.250
## 9         CBTDummy ~~     NeedCogCont                -0.020 0.016  -1.258  0.208   -0.051
## 10        CBTDummy ~~ CBTxNeedCogCont                -0.008 0.011  -0.781  0.435   -0.030
## 11     NeedCogCont ~~     NeedCogCont                 0.994 0.044  22.749  0.000    0.909
## 12     NeedCogCont ~~ CBTxNeedCogCont                 0.480 0.034  14.314  0.000    0.412
## 13 CBTxNeedCogCont ~~ CBTxNeedCogCont                 0.480 0.034  14.292  0.000    0.411
## 14     NegThoughts ~1                                 0.523 0.046  11.401  0.000    0.436
## 15      Depression ~1                                 2.089 0.037  56.930  0.000    2.021
## 16        CBTDummy ~1                                 0.500 0.016  30.669  0.000    0.467
## 17     NeedCogCont ~1                                 0.006 0.031   0.190  0.849   -0.062
## 18 CBTxNeedCogCont ~1                                -0.017 0.021  -0.781  0.435   -0.059
## 19   IndexOfModMed :=            a3*b IndexOfModMed  -4.967 0.114 -43.431  0.000   -5.180
## 20          aSSLow :=      a1+a3*(-1)        aSSLow  -1.990 0.092 -21.679  0.000   -2.176
## 21         aSSMean :=         a1+a3*0       aSSMean  -5.060 0.064 -78.724  0.000   -5.183
## 22         aSSHigh :=         a1+a3*1       aSSHigh  -8.131 0.094 -86.243  0.000   -8.313
## 23           abLow :=        aSSLow*b         abLow  -3.218 0.151 -21.338  0.000   -3.532
## 24          abMean :=       aSSMean*b        abMean  -8.185 0.121 -67.625  0.000   -8.433
## 25          abHigh :=       aSSHigh*b        abHigh -13.152 0.181 -72.721  0.000  -13.513
##    ci.upper  std.lv std.all std.nox
## 1    -4.930  -5.060  -0.794  -1.588
## 2     2.093   2.000   0.626   0.628
## 3    -2.922  -3.071  -0.668  -0.964
## 4     1.642   1.617   0.912   0.912
## 5    -0.899  -1.066  -0.094  -0.189
## 6     1.109   1.010   0.099   0.099
## 7     0.714   0.645   0.020   0.020
## 8     0.250   0.250   1.000   0.250
## 9     0.013  -0.020  -0.040  -0.020
## 10    0.013  -0.008  -0.024  -0.008
## 11    1.078   0.994   1.000   0.994
## 12    0.545   0.480   0.695   0.480
## 13    0.545   0.480   1.000   0.480
## 14    0.616   0.523   0.164   0.164
## 15    2.160   2.089   0.370   0.370
## 16    0.529   0.500   1.000   0.500
## 17    0.063   0.006   0.006   0.006
## 18    0.026  -0.017  -0.024  -0.017
## 19   -4.727  -4.967  -0.609  -0.879
## 20   -1.813  -1.990  -0.126  -0.624
## 21   -4.930  -5.060  -0.794  -1.588
## 22   -7.942  -8.131  -1.462  -2.552
## 23   -2.941  -3.218  -0.115  -0.570
## 24   -7.944  -8.185  -0.725  -1.449
## 25  -12.779 -13.152  -1.334  -2.329</code></pre>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb212-1" aria-hidden="true" tabindex="-1"></a>Defined Parameters<span class="sc">:</span> </span>
<span id="cb212-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb212-2" aria-hidden="true" tabindex="-1"></a>                   Estimate  Std.Err  z<span class="sc">-</span>value  <span class="fu">P</span>(<span class="sc">&gt;</span><span class="er">|</span>z<span class="sc">|</span>)    ci.lower  ci.upper    std.all</span>
<span id="cb212-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb212-3" aria-hidden="true" tabindex="-1"></a>    IndexOfModMed    <span class="sc">-</span><span class="fl">4.967</span>    <span class="fl">0.114</span>  <span class="sc">-</span><span class="fl">43.431</span>    <span class="fl">0.000</span>      <span class="sc">-</span><span class="fl">5.180</span>    <span class="sc">-</span><span class="fl">4.727</span>     <span class="sc">-</span><span class="fl">0.609</span>      </span>
<span id="cb212-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb212-4" aria-hidden="true" tabindex="-1"></a>    aSSLow           <span class="sc">-</span><span class="fl">1.990</span>    <span class="fl">0.092</span>  <span class="sc">-</span><span class="fl">21.679</span>    <span class="fl">0.000</span>      <span class="sc">-</span><span class="fl">2.176</span>    <span class="sc">-</span><span class="fl">1.813</span>     <span class="sc">-</span><span class="fl">0.126</span>  </span>
<span id="cb212-5"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb212-5" aria-hidden="true" tabindex="-1"></a>    aSSMean          <span class="sc">-</span><span class="fl">5.060</span>    <span class="fl">0.064</span>  <span class="sc">-</span><span class="fl">78.724</span>    <span class="fl">0.000</span>      <span class="sc">-</span><span class="fl">5.183</span>    <span class="sc">-</span><span class="fl">4.930</span>     <span class="sc">-</span><span class="fl">0.794</span>                                 </span>
<span id="cb212-6"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb212-6" aria-hidden="true" tabindex="-1"></a>    aSSHigh          <span class="sc">-</span><span class="fl">8.131</span>    <span class="fl">0.094</span>  <span class="sc">-</span><span class="fl">86.243</span>    <span class="fl">0.000</span>      <span class="sc">-</span><span class="fl">8.313</span>    <span class="sc">-</span><span class="fl">7.942</span>     <span class="sc">-</span><span class="fl">1.462</span>  </span>
<span id="cb212-7"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb212-7" aria-hidden="true" tabindex="-1"></a>    abLow            <span class="sc">-</span><span class="fl">3.218</span>    <span class="fl">0.151</span>  <span class="sc">-</span><span class="fl">21.338</span>    <span class="fl">0.000</span>      <span class="sc">-</span><span class="fl">3.532</span>    <span class="sc">-</span><span class="fl">2.941</span>     <span class="sc">-</span><span class="fl">0.115</span>  </span>
<span id="cb212-8"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb212-8" aria-hidden="true" tabindex="-1"></a>    abMean           <span class="sc">-</span><span class="fl">8.185</span>    <span class="fl">0.121</span>  <span class="sc">-</span><span class="fl">67.625</span>    <span class="fl">0.000</span>      <span class="sc">-</span><span class="fl">8.433</span>    <span class="sc">-</span><span class="fl">7.944</span>     <span class="sc">-</span><span class="fl">0.725</span>  </span>
<span id="cb212-9"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb212-9" aria-hidden="true" tabindex="-1"></a>    abHigh          <span class="sc">-</span><span class="fl">13.152</span>    <span class="fl">0.181</span>  <span class="sc">-</span><span class="fl">72.721</span>    <span class="fl">0.000</span>     <span class="sc">-</span><span class="fl">13.513</span>   <span class="sc">-</span><span class="fl">12.779</span>     <span class="sc">-</span><span class="fl">1.334</span>  </span>
<span id="cb212-10"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb212-10" aria-hidden="true" tabindex="-1"></a>    b                 <span class="fl">1.617</span>    <span class="fl">0.013</span>  <span class="fl">124.544</span>    <span class="fl">0.000</span>       <span class="fl">1.592</span>     <span class="fl">1.642</span>      <span class="fl">0.912</span>  </span>
<span id="cb212-11"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb212-11" aria-hidden="true" tabindex="-1"></a>    cprime           <span class="sc">-</span><span class="fl">1.066</span>    <span class="fl">0.084</span>  <span class="sc">-</span><span class="fl">12.758</span>    <span class="fl">0.000</span>      <span class="sc">-</span><span class="fl">1.216</span>    <span class="sc">-</span><span class="fl">0.899</span>     <span class="sc">-</span><span class="fl">0.094</span>  </span></code></pre></div>
<ul>
<li><p>What does a1 tell you?</p></li>
<li><p>What does a2 tell you?</p></li>
<li><p>What does a3 tell you?</p></li>
<li><p>What does IndexOfModMed tell you?</p></li>
<li><p>What does aSSLow tell you?</p></li>
<li><p>What does aSSMean tell you?</p></li>
<li><p>What does aSSHigh tell you?</p></li>
<li><p>What does b tell you?</p></li>
<li><p>What does abLow tell you?</p></li>
<li><p>What does abMean tell you?</p></li>
<li><p>What does abHigh tell you?</p></li>
<li><p>What does cprime tell you?</p></li>
<li><p>the simple slopes of CBT -&gt; NegThoughts (a path) are all negative at three levels of the moderator</p></li>
<li><p>the indirect effects of CBT -&gt; NegThoughts -&gt; Depression (ab) are all negative at three levels of the moderator</p></li>
</ul>
<!------------------------------>
</div>
</div>
<div id="johnson-neyman-interval-1" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> JOHNSON-NEYMAN INTERVAL</h2>
<!------------------------------>
<p>Although johnson_neyman() does not work on lavaan fitted object (yet), one can use a try-and-error approach to figure out the region of significance:</p>
<p>First, obtain the minimum and maximum of the moderator NeedCogCont:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(cbtData<span class="sc">$</span>NeedCogCont)   <span class="co"># -2.83</span></span></code></pre></div>
<pre><code>## [1] -2.829197</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(cbtData<span class="sc">$</span>NeedCogCont)   <span class="co">#  3.31</span></span></code></pre></div>
<pre><code>## [1] 3.310095</code></pre>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-1" aria-hidden="true" tabindex="-1"></a>ex4_JN <span class="ot">&lt;-</span> <span class="st">&quot; </span></span>
<span id="cb217-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-2" aria-hidden="true" tabindex="-1"></a><span class="st">    #Regressions</span></span>
<span id="cb217-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-3" aria-hidden="true" tabindex="-1"></a><span class="st">  NegThoughts ~ a1*CBTDummy + a2*NeedCogCont + a3*CBTxNeedCogCont </span></span>
<span id="cb217-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-4" aria-hidden="true" tabindex="-1"></a><span class="st">    Depression ~ b*NegThoughts + cprime*CBTDummy</span></span>
<span id="cb217-5"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb217-6"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-6" aria-hidden="true" tabindex="-1"></a><span class="st">  #Index of Moderated Mediation</span></span>
<span id="cb217-7"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-7" aria-hidden="true" tabindex="-1"></a><span class="st">  IndexOfModMed := a3*b</span></span>
<span id="cb217-8"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb217-9"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-9" aria-hidden="true" tabindex="-1"></a><span class="st">  #Simple Slopes</span></span>
<span id="cb217-10"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-10" aria-hidden="true" tabindex="-1"></a><span class="st">    aSSMin := a1+a3*(-2.83) </span></span>
<span id="cb217-11"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-11" aria-hidden="true" tabindex="-1"></a><span class="st">    aSSMin1 := a1+a3*(-1.75)    </span></span>
<span id="cb217-12"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-12" aria-hidden="true" tabindex="-1"></a><span class="st">    aSSMin2 := a1+a3*(-1.74)    </span></span>
<span id="cb217-13"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-13" aria-hidden="true" tabindex="-1"></a><span class="st">    aSSMin3 := a1+a3*(-1.58)    </span></span>
<span id="cb217-14"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-14" aria-hidden="true" tabindex="-1"></a><span class="st">    aSSMin4 := a1+a3*(-1.57)    </span></span>
<span id="cb217-15"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-15" aria-hidden="true" tabindex="-1"></a><span class="st">    aSSLow := a1+a3*(-1)    </span></span>
<span id="cb217-16"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-16" aria-hidden="true" tabindex="-1"></a><span class="st">    aSSMean := a1+a3*0      </span></span>
<span id="cb217-17"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-17" aria-hidden="true" tabindex="-1"></a><span class="st">    aSSHigh := a1+a3*1      </span></span>
<span id="cb217-18"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-18" aria-hidden="true" tabindex="-1"></a><span class="st">    aSSMax := a1+a3*(3.31)  </span></span>
<span id="cb217-19"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb217-20"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-20" aria-hidden="true" tabindex="-1"></a><span class="st">    #Conditional Indirect Effects</span></span>
<span id="cb217-21"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-21" aria-hidden="true" tabindex="-1"></a><span class="st">    abMin := (a1+a3*(-2.83))*b</span></span>
<span id="cb217-22"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-22" aria-hidden="true" tabindex="-1"></a><span class="st">    abMin1 := (a1+a3*(-1.75))*b    # cutoff1</span></span>
<span id="cb217-23"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-23" aria-hidden="true" tabindex="-1"></a><span class="st">    abMin2 := (a1+a3*(-1.74))*b</span></span>
<span id="cb217-24"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-24" aria-hidden="true" tabindex="-1"></a><span class="st">    abMin3 := (a1+a3*(-1.58))*b</span></span>
<span id="cb217-25"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-25" aria-hidden="true" tabindex="-1"></a><span class="st">    abMin4 := (a1+a3*(-1.57))*b    # cutoff2</span></span>
<span id="cb217-26"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-26" aria-hidden="true" tabindex="-1"></a><span class="st">    abLow := aSSLow*b</span></span>
<span id="cb217-27"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-27" aria-hidden="true" tabindex="-1"></a><span class="st">    abMean := aSSMean*b</span></span>
<span id="cb217-28"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-28" aria-hidden="true" tabindex="-1"></a><span class="st">    abHigh := aSSHigh*b</span></span>
<span id="cb217-29"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-29" aria-hidden="true" tabindex="-1"></a><span class="st">    abMax := (a1+a3*(3.31))*b</span></span>
<span id="cb217-30"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb217-30" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;</span>  </span></code></pre></div>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb218-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb218-2" aria-hidden="true" tabindex="-1"></a>ex4Boot <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> ex4_JN, </span>
<span id="cb218-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb218-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> cbtData, </span>
<span id="cb218-4"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb218-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">se =</span> <span class="st">&quot;bootstrap&quot;</span>, </span>
<span id="cb218-5"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb218-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">bootstrap =</span> <span class="dv">1000</span>, </span>
<span id="cb218-6"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb218-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">fixed.x=</span><span class="cn">FALSE</span>,</span>
<span id="cb218-7"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb218-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">meanstructure =</span> <span class="cn">TRUE</span>) </span></code></pre></div>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="fu">parameterEstimates</span>(ex4Boot, </span>
<span id="cb219-2"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb219-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">level =</span> <span class="fl">0.95</span>, </span>
<span id="cb219-3"><a href="week6_1-lavaan-lab-4-mediated-moderation-moderated-mediation.html#cb219-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">boot.ci.type=</span><span class="st">&quot;bca.simple&quot;</span>)</span></code></pre></div>
<pre><code>## Warning in norm.inter(t, adj.alpha): extreme order statistics used as endpoints</code></pre>
<pre><code>##                lhs op               rhs         label     est    se       z pvalue ci.lower
## 1      NegThoughts  ~          CBTDummy            a1  -5.060 0.064 -78.764  0.000   -5.183
## 2      NegThoughts  ~       NeedCogCont            a2   2.000 0.048  42.047  0.000    1.902
## 3      NegThoughts  ~   CBTxNeedCogCont            a3  -3.071 0.067 -45.675  0.000   -3.195
## 4       Depression  ~       NegThoughts             b   1.617 0.013 124.544  0.000    1.592
## 5       Depression  ~          CBTDummy        cprime  -1.066 0.084 -12.758  0.000   -1.216
## 6      NegThoughts ~~       NegThoughts                 1.010 0.042  23.885  0.000    0.937
## 7       Depression ~~        Depression                 0.645 0.031  21.047  0.000    0.592
## 8         CBTDummy ~~          CBTDummy                 0.250 0.000 619.383  0.000    0.250
## 9         CBTDummy ~~       NeedCogCont                -0.020 0.016  -1.258  0.208   -0.051
## 10        CBTDummy ~~   CBTxNeedCogCont                -0.008 0.011  -0.781  0.435   -0.030
## 11     NeedCogCont ~~       NeedCogCont                 0.994 0.044  22.749  0.000    0.909
## 12     NeedCogCont ~~   CBTxNeedCogCont                 0.480 0.034  14.314  0.000    0.412
## 13 CBTxNeedCogCont ~~   CBTxNeedCogCont                 0.480 0.034  14.292  0.000    0.411
## 14     NegThoughts ~1                                   0.523 0.046  11.401  0.000    0.436
## 15      Depression ~1                                   2.089 0.037  56.930  0.000    2.021
## 16        CBTDummy ~1                                   0.500 0.016  30.669  0.000    0.467
## 17     NeedCogCont ~1                                   0.006 0.031   0.190  0.849   -0.062
## 18 CBTxNeedCogCont ~1                                  -0.017 0.021  -0.781  0.435   -0.059
## 19   IndexOfModMed :=              a3*b IndexOfModMed  -4.967 0.114 -43.431  0.000   -5.180
## 20          aSSMin :=     a1+a3*(-2.83)        aSSMin   3.630 0.199  18.215  0.000    3.204
## 21         aSSMin1 :=     a1+a3*(-1.75)       aSSMin1   0.313 0.133   2.363  0.018    0.029
## 22         aSSMin2 :=     a1+a3*(-1.74)       aSSMin2   0.283 0.132   2.141  0.032    0.000
## 23         aSSMin3 :=     a1+a3*(-1.58)       aSSMin3  -0.209 0.123  -1.701  0.089   -0.471
## 24         aSSMin4 :=     a1+a3*(-1.57)       aSSMin4  -0.239 0.122  -1.960  0.050   -0.500
## 25          aSSLow :=        a1+a3*(-1)        aSSLow  -1.990 0.092 -21.679  0.000   -2.176
## 26         aSSMean :=           a1+a3*0       aSSMean  -5.060 0.064 -78.724  0.000   -5.183
## 27         aSSHigh :=           a1+a3*1       aSSHigh  -8.131 0.094 -86.243  0.000   -8.313
## 28          aSSMax :=      a1+a3*(3.31)        aSSMax -15.224 0.233 -65.232  0.000  -15.658
## 29           abMin := (a1+a3*(-2.83))*b         abMin   5.871 0.324  18.092  0.000    5.185
## 30          abMin1 := (a1+a3*(-1.75))*b        abMin1   0.507 0.214   2.363  0.018    0.047
## 31          abMin2 := (a1+a3*(-1.74))*b        abMin2   0.457 0.213   2.141  0.032   -0.001
## 32          abMin3 := (a1+a3*(-1.58))*b        abMin3  -0.338 0.199  -1.700  0.089   -0.759
## 33          abMin4 := (a1+a3*(-1.57))*b        abMin4  -0.387 0.198  -1.959  0.050   -0.807
## 34           abLow :=          aSSLow*b         abLow  -3.218 0.151 -21.338  0.000   -3.532
## 35          abMean :=         aSSMean*b        abMean  -8.185 0.121 -67.625  0.000   -8.433
## 36          abHigh :=         aSSHigh*b        abHigh -13.152 0.181 -72.721  0.000  -13.513
## 37           abMax :=  (a1+a3*(3.31))*b         abMax -24.624 0.418 -58.964  0.000  -25.391
##    ci.upper
## 1    -4.930
## 2     2.093
## 3    -2.922
## 4     1.642
## 5    -0.899
## 6     1.109
## 7     0.714
## 8     0.250
## 9     0.013
## 10    0.013
## 11    1.078
## 12    0.545
## 13    0.545
## 14    0.616
## 15    2.160
## 16    0.529
## 17    0.063
## 18    0.026
## 19   -4.727
## 20    4.011
## 21    0.562
## 22    0.530
## 23    0.018
## 24   -0.013
## 25   -1.813
## 26   -4.930
## 27   -7.942
## 28  -14.751
## 29    6.487
## 30    0.904
## 31    0.853
## 32    0.030
## 33   -0.020
## 34   -2.941
## 35   -7.944
## 36  -12.779
## 37  -23.738</code></pre>
<p>So our regions of significance are:</p>
<ul>
<li><span class="math inline">\([-2.83, -1.75]\)</span>: In which the ab are positive and significant. Participants with this level of NeegCog experienced elevated levels of depression due to CBT because CBT induces more negative thoughts among them.</li>
<li><span class="math inline">\([-1.75, -1.57]\)</span>: In which the ab are NOT significant.</li>
<li><span class="math inline">\([-1.57, 3.31]\)</span>: In which the ab are negative and significant. Participants with this level of NeegCog experienced reduced levels of depression due to CBT because CBT reduced negative thoughts for them.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="week5_2-lavaan-lab-3-moderation-and-conditional-effects.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="week6_2-r-lab-on-disaster-dataset-chapman-and-lickel-2016.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
