<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Week5_1: Lavaan Lab 3 Moderation and Conditional Effects | EPSY:579 R Cookbook for SEM</title>
  <meta name="description" content="Chapter 5 Week5_1: Lavaan Lab 3 Moderation and Conditional Effects | EPSY:579 R Cookbook for SEM" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Week5_1: Lavaan Lab 3 Moderation and Conditional Effects | EPSY:579 R Cookbook for SEM" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Week5_1: Lavaan Lab 3 Moderation and Conditional Effects | EPSY:579 R Cookbook for SEM" />
  
  
  

<meta name="author" content="Gabriella Jiang" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"/>

<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">EPSY:579 R Cookbook for SEM</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Course</a></li>
<li class="chapter" data-level="2" data-path="r-exercises.html"><a href="r-exercises.html"><i class="fa fa-check"></i><b>2</b> R Exercises</a></li>
<li class="chapter" data-level="3" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html"><i class="fa fa-check"></i><b>3</b> Week4_1: Lavaan Lab 1 Path Analysis Model</a>
<ul>
<li class="chapter" data-level="3.1" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#reading-in-and-working-with-realistic-datasets-in-r"><i class="fa fa-check"></i><b>3.1</b> Reading-In and Working With Realistic Datasets In R</a></li>
<li class="chapter" data-level="3.2" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#sample-covariance-matrices-using-the-cov-function"><i class="fa fa-check"></i><b>3.2</b> Sample Covariance Matrices using the cov() function</a></li>
<li class="chapter" data-level="3.3" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#installing-packages"><i class="fa fa-check"></i><b>3.3</b> Installing Packages</a></li>
<li class="chapter" data-level="3.4" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#loading-packages-libraries-that-you-have-installed"><i class="fa fa-check"></i><b>3.4</b> Loading Packages (Libraries) That You Have Installed</a></li>
<li class="chapter" data-level="3.5" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#using-lavaan-for-path-models"><i class="fa fa-check"></i><b>3.5</b> Using Lavaan For Path Models</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#part-i-follow-the-set-of-equations-we-wrote-in-class"><i class="fa fa-check"></i><b>3.5.1</b> PART I: Follow the set of equations we wrote in class:</a></li>
<li class="chapter" data-level="3.5.2" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#part-ii-lets-run-our-model"><i class="fa fa-check"></i><b>3.5.2</b> PART II Let’s run our model!</a></li>
<li class="chapter" data-level="3.5.3" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#sigma-matrices"><i class="fa fa-check"></i><b>3.5.3</b> Sigma Matrices</a></li>
<li class="chapter" data-level="3.5.4" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#part-iii-summarizing-our-analysis"><i class="fa fa-check"></i><b>3.5.4</b> PART III: Summarizing Our Analysis:</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#plotting-sem-model"><i class="fa fa-check"></i><b>3.6</b> Plotting SEM model</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#customize-it-your-way"><i class="fa fa-check"></i><b>3.6.1</b> customize it your way</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="week4_1-lavaan-lab-1-path-analysis-model.html"><a href="week4_1-lavaan-lab-1-path-analysis-model.html#exercise-how-would-you-fit-the-model-in-saunders-et-al.-2016"><i class="fa fa-check"></i><b>3.7</b> Exercise: How would you fit the model in Saunders et al. (2016)?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><i class="fa fa-check"></i><b>4</b> Week4_2: Lavaan Lab 2 Mediation and Indirect Effects</a>
<ul>
<li class="chapter" data-level="4.1" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#reading-in-and-working-with-realistic-datasets-in-r-1"><i class="fa fa-check"></i><b>4.1</b> Reading-In and Working With Realistic Datasets In R</a></li>
<li class="chapter" data-level="4.2" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#using-lavaan-for-mediation-models---preacher-hayess"><i class="fa fa-check"></i><b>4.2</b> Using Lavaan For Mediation Models - Preacher &amp; Hayes’s</a></li>
<li class="chapter" data-level="4.3" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#part-i-follow-the-two-equations-of-m-dietse-y-bulimia"><i class="fa fa-check"></i><b>4.3</b> PART I: # Follow the two equations of M (DietSE) &amp; Y (Bulimia)</a></li>
<li class="chapter" data-level="4.4" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#part-ii-lets-run-our-model-1"><i class="fa fa-check"></i><b>4.4</b> PART II Let’s run our model!</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#label-the-mediation-effect"><i class="fa fa-check"></i><b>4.4.1</b> Label the mediation effect</a></li>
<li class="chapter" data-level="4.4.2" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#define-a-new-term-for-the-mediation-effect-ab"><i class="fa fa-check"></i><b>4.4.2</b> Define a new term for the mediation effect a*b</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#part-iii-summarizing-our-analysis-1"><i class="fa fa-check"></i><b>4.5</b> PART III: Summarizing Our Analysis:</a></li>
<li class="chapter" data-level="4.6" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#part-iv-bootstrap-confidence-intervals"><i class="fa fa-check"></i><b>4.6</b> PART IV: Bootstrap confidence intervals</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#the-default-one-is-boot.ci.type-perc"><i class="fa fa-check"></i><b>4.6.1</b> The default one is boot.ci.type = “perc”</a></li>
<li class="chapter" data-level="4.6.2" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#bc-bias-corrected-confidence-interval"><i class="fa fa-check"></i><b>4.6.2</b> BC (bias-corrected) confidence interval</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#in-class-exercise-use-lavaan-to-estimate-and-interpret-the-following-model"><i class="fa fa-check"></i><b>4.7</b> In-Class Exercise: Use Lavaan to estimate and interpret the following model</a></li>
<li class="chapter" data-level="4.8" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#exercise-eating-disorder-mediation-analysis"><i class="fa fa-check"></i><b>4.8</b> Exercise: Eating Disorder Mediation Analysis</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#step-1-labeling-and-defining-the-parameters"><i class="fa fa-check"></i><b>4.8.1</b> Step 1: Labeling and defining the parameters</a></li>
<li class="chapter" data-level="4.8.2" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#step-2-fix-all-disturbance-covariances-at-0"><i class="fa fa-check"></i><b>4.8.2</b> Step 2: Fix all disturbance covariances at 0</a></li>
<li class="chapter" data-level="4.8.3" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#step-3-define-new-terms-for-mediation-effects"><i class="fa fa-check"></i><b>4.8.3</b> Step 3: Define new terms for mediation effects</a></li>
<li class="chapter" data-level="4.8.4" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#step-4-bootstrap-confidence-intervals"><i class="fa fa-check"></i><b>4.8.4</b> Step 4: Bootstrap confidence intervals:</a></li>
<li class="chapter" data-level="4.8.5" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#step-5-print-and-interpret-the-mediation-effects"><i class="fa fa-check"></i><b>4.8.5</b> Step 5: Print and interpret the mediation effects;</a></li>
<li class="chapter" data-level="4.8.6" data-path="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html"><a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html#plot-it"><i class="fa fa-check"></i><b>4.8.6</b> Plot it!</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><i class="fa fa-check"></i><b>5</b> Week5_1: Lavaan Lab 3 Moderation and Conditional Effects</a>
<ul>
<li class="chapter" data-level="5.1" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#reading-in-datasets"><i class="fa fa-check"></i><b>5.1</b> Reading-In Datasets</a></li>
<li class="chapter" data-level="5.2" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#interactions-in-regression-using-lm"><i class="fa fa-check"></i><b>5.2</b> Interactions in Regression Using lm()</a></li>
<li class="chapter" data-level="5.3" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#interactions-in-lavaan"><i class="fa fa-check"></i><b>5.3</b> Interactions in Lavaan</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#important-note"><i class="fa fa-check"></i><b>5.3.1</b> IMPORTANT NOTE</a></li>
<li class="chapter" data-level="5.3.2" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#follow-the-equation-of-y-depression"><i class="fa fa-check"></i><b>5.3.2</b> Follow the equation of Y (Depression):</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#visial-inspection-of-interactions"><i class="fa fa-check"></i><b>5.4</b> Visial inspection of interactions</a></li>
<li class="chapter" data-level="5.5" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#centering-continuous-moderator"><i class="fa fa-check"></i><b>5.5</b> Centering Continuous Moderator</a></li>
<li class="chapter" data-level="5.6" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#interactions-in-lavaan-continuous-moderator"><i class="fa fa-check"></i><b>5.6</b> Interactions in Lavaan (Continuous Moderator)</a></li>
<li class="chapter" data-level="5.7" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#simple-slopes-analysis"><i class="fa fa-check"></i><b>5.7</b> Simple Slopes Analysis</a></li>
<li class="chapter" data-level="5.8" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#visual-inspection-of-interactions-lm-approach"><i class="fa fa-check"></i><b>5.8</b> Visual inspection of interactions (lm approach)</a></li>
<li class="chapter" data-level="5.9" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#johnson-neyman-interval"><i class="fa fa-check"></i><b>5.9</b> JOHNSON-NEYMAN INTERVAL</a></li>
<li class="chapter" data-level="5.10" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#exercise-how-framing-affects-justifications-for-giving-or-withholding-aid-to-disaster-victims"><i class="fa fa-check"></i><b>5.10</b> Exercise: How Framing Affects Justifications for Giving or Withholding Aid to Disaster Victims</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#data-prep"><i class="fa fa-check"></i><b>5.10.1</b> Data Prep</a></li>
<li class="chapter" data-level="5.10.2" data-path="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#moderation-with-a-binary-moderator"><i class="fa fa-check"></i><b>5.10.2</b> Moderation with a binary moderator</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EPSY:579 R Cookbook for SEM</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="week5_1-lavaan-lab-3-moderation-and-conditional-effects" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> Week5_1: Lavaan Lab 3 Moderation and Conditional Effects</h1>
<p>In this lab, we will learn how to:</p>
<ul>
<li>how to perform moderation using regression and sem</li>
<li>test the moderation effects of binary and continuous moderators</li>
<li>visualize moderation effects.</li>
</ul>
<!------------------------------>
<div id="reading-in-datasets" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Reading-In Datasets</h2>
<!------------------------------>
<p>Let’s read this dataset in. Change the file path to whatever directory where you saved the file!</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb99-1" aria-hidden="true" tabindex="-1"></a>cbtData <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;dataInClass.csv&quot;</span>, <span class="at">header =</span> T)</span></code></pre></div>
<p>Let’s examine this dataset:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cbtData)</span></code></pre></div>
<pre><code>##   ID              CBT CBTDummy NeedCog NegThoughts Depression NeedCogCont
## 1  1    CBT Treatment        1       0  -4.1453029  -5.802172   0.0182802
## 2  2 Information Only        0       1   2.1775218   5.496665   1.4238703
## 3  3    CBT Treatment        1       0  -1.5551349  -1.950566  -1.0151726
## 4  4 Information Only        0       0   0.1679286   2.655801  -0.8547152
## 5  5 Information Only        0       1   2.5103192   6.855488   0.6759705
## 6  6    CBT Treatment        1       0  -3.1626670  -2.968198  -0.9123426</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(cbtData)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    1000 obs. of  7 variables:
##  $ ID         : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ CBT        : chr  &quot;CBT Treatment&quot; &quot;Information Only&quot; &quot;CBT Treatment&quot; &quot;Information Only&quot; ...
##  $ CBTDummy   : int  1 0 1 0 0 1 1 1 1 0 ...
##  $ NeedCog    : int  0 1 0 0 1 0 0 0 0 0 ...
##  $ NegThoughts: num  -4.145 2.178 -1.555 0.168 2.51 ...
##  $ Depression : num  -5.8 5.5 -1.95 2.66 6.86 ...
##  $ NeedCogCont: num  0.0183 1.4239 -1.0152 -0.8547 0.676 ...</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(cbtData))</span></code></pre></div>
<pre><code>##          ID         CBT    CBTDummy     NeedCog NegThoughts  Depression NeedCogCont 
##           0           0           0           0           0           0           0</code></pre>
<p>Notice that the first two columns are not model variables</p>
<ul>
<li>col 1 is a case ID variable.</li>
<li>col 2 is a factor variable indicating CBT vs. Info-Only treatment.</li>
</ul>
<p>Besides,</p>
<ul>
<li>col 5 is a variable that measures negative thoughts.</li>
<li>col 7 is a continuous measure of NeedCog.</li>
</ul>
<p>In the first part of this demo, we will work with three variables: CBTDummy, NeedCog, and Depression</p>
<p>Let’s look at the covariance matrix of the three variables</p>
<p>Multiple ways to accomplish this:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cov</span>(cbtData[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">7</span>)])</span></code></pre></div>
<pre><code>##                CBTDummy      NeedCog Depression
## CBTDummy    0.250250250 -0.008508509 -2.3372519
## NeedCog    -0.008508509  0.213732733  0.4371738
## Depression -2.337251860  0.437173798 31.9301427</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cov</span>(cbtData[,<span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">6</span>)])</span></code></pre></div>
<pre><code>##                CBTDummy      NeedCog Depression
## CBTDummy    0.250250250 -0.008508509 -2.3372519
## NeedCog    -0.008508509  0.213732733  0.4371738
## Depression -2.337251860  0.437173798 31.9301427</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cov</span>(cbtData[,<span class="fu">c</span>(<span class="st">&quot;CBTDummy&quot;</span>, <span class="st">&quot;NeedCog&quot;</span>, <span class="st">&quot;Depression&quot;</span>)])</span></code></pre></div>
<pre><code>##                CBTDummy      NeedCog Depression
## CBTDummy    0.250250250 -0.008508509 -2.3372519
## NeedCog    -0.008508509  0.213732733  0.4371738
## Depression -2.337251860  0.437173798 31.9301427</code></pre>
<p>let’s round this to two decimals</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">cov</span>(cbtData[,<span class="fu">c</span>(<span class="st">&quot;CBTDummy&quot;</span>, <span class="st">&quot;NeedCog&quot;</span>, <span class="st">&quot;Depression&quot;</span>)]), <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##            CBTDummy NeedCog Depression
## CBTDummy       0.25   -0.01      -2.34
## NeedCog       -0.01    0.21       0.44
## Depression    -2.34    0.44      31.93</code></pre>
<p>What about the means?</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">apply</span>(cbtData[,<span class="fu">c</span>(<span class="st">&quot;CBTDummy&quot;</span>, <span class="st">&quot;NeedCog&quot;</span>, <span class="st">&quot;Depression&quot;</span>)], <span class="dv">2</span>, mean), <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##   CBTDummy    NeedCog Depression 
##       0.50       0.31      -1.59</code></pre>
<p>Although they are not centered, we will proceed because CBTDummy and NeedCog are both binary.</p>
<!------------------------------>
</div>
<div id="interactions-in-regression-using-lm" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Interactions in Regression Using lm()</h2>
<!------------------------------>
<p>In regression course we learned the lm() function, which stands for linear model.</p>
<p>To include an interaction in regression, simply use an : to create a product in the formula:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb116-1" aria-hidden="true" tabindex="-1"></a>interactionModel <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">formula =</span> Depression <span class="sc">~</span> CBTDummy <span class="sc">+</span> NeedCog <span class="sc">+</span> CBTDummy<span class="sc">:</span>NeedCog, <span class="at">data =</span> cbtData)</span></code></pre></div>
<p>NOTE: R is very helpful, in that if you just put an asterisk *, it includes all lower-order terms!</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb117-1" aria-hidden="true" tabindex="-1"></a>interactionModel <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">formula =</span> Depression <span class="sc">~</span> CBTDummy<span class="sc">*</span>NeedCog, <span class="at">data =</span> cbtData)</span></code></pre></div>
<p>Let’s look at this interaction model:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(interactionModel)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = Depression ~ CBTDummy * NeedCog, data = cbtData)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -12.7785  -1.4280   0.0662   1.6252   6.8283 
## 
## Coefficients:
##                  Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)        1.2684     0.1345   9.428   &lt;2e-16 ***
## CBTDummy          -6.8119     0.1880 -36.240   &lt;2e-16 ***
## NeedCog            5.5586     0.2356  23.590   &lt;2e-16 ***
## CBTDummy:NeedCog  -8.0093     0.3384 -23.666   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 2.47 on 996 degrees of freedom
## Multiple R-squared:  0.8095, Adjusted R-squared:  0.809 
## F-statistic:  1411 on 3 and 996 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>Let’s interpret this … (In class)</p>
<!------------------------------>
</div>
<div id="interactions-in-lavaan" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Interactions in Lavaan</h2>
<!------------------------------>
<p>Now let us write the same model using lavaan.</p>
<p>Load the package:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan)</span></code></pre></div>
<div id="important-note" class="section level3" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> IMPORTANT NOTE</h3>
<p>Because lavaan uses the * for assigning coefficient labels, this cannot be used to create interaction terms.</p>
<p>Instead, we have to create the product term in the dataset first, before running our model.</p>
<p>This is easy to do.</p>
<p>General Format:</p>
<p>existingDataFrame$variableName &lt;- vectorToBeAssignedAsNewVariable</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb121-1" aria-hidden="true" tabindex="-1"></a>cbtData<span class="sc">$</span>CBTxNeedCog <span class="ot">&lt;-</span> cbtData<span class="sc">$</span>CBTDummy <span class="sc">*</span> cbtData<span class="sc">$</span>NeedCog</span></code></pre></div>
<p>You can name the product term arbitrarily:</p>
<p>cbtData$fourth &lt;- cbtData$CBTDummy * cbtData$NeedCog</p>
<p>Let’s look at cbtData again:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cbtData)</span></code></pre></div>
<pre><code>##   ID              CBT CBTDummy NeedCog NegThoughts Depression NeedCogCont CBTxNeedCog
## 1  1    CBT Treatment        1       0  -4.1453029  -5.802172   0.0182802           0
## 2  2 Information Only        0       1   2.1775218   5.496665   1.4238703           0
## 3  3    CBT Treatment        1       0  -1.5551349  -1.950566  -1.0151726           0
## 4  4 Information Only        0       0   0.1679286   2.655801  -0.8547152           0
## 5  5 Information Only        0       1   2.5103192   6.855488   0.6759705           0
## 6  6    CBT Treatment        1       0  -3.1626670  -2.968198  -0.9123426           0</code></pre>
<p>Now you have a new variable called CBTxNeedCog at the end.</p>
</div>
<div id="follow-the-equation-of-y-depression" class="section level3" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Follow the equation of Y (Depression):</h3>
<p>Depression = CBTDummy + NeedCog + CBTDummy*NeedCog + Disturbance</p>
<p>Let’s write some model syntax (with the labels):</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb124-1" aria-hidden="true" tabindex="-1"></a>interactionSyntax <span class="ot">&lt;-</span> <span class="st">&quot;</span></span>
<span id="cb124-2"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="st">    #Regression with interaction</span></span>
<span id="cb124-3"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb124-3" aria-hidden="true" tabindex="-1"></a><span class="st">    #with labels</span></span>
<span id="cb124-4"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb124-4" aria-hidden="true" tabindex="-1"></a><span class="st">    Depression ~ b1*CBTDummy + b2*NeedCog + b3*CBTxNeedCog</span></span>
<span id="cb124-5"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb124-5" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;</span></span></code></pre></div>
<p>let fixed.x=FALSE to print more lines:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb125-1" aria-hidden="true" tabindex="-1"></a>inter_fit1 <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> interactionSyntax, </span>
<span id="cb125-2"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb125-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> cbtData, </span>
<span id="cb125-3"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb125-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">fixed.x =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p>If you’d like lavaan to print means and intercepts, we need to ask sem() to include the meanstructure:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb126-1" aria-hidden="true" tabindex="-1"></a>inter_fit1 <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> interactionSyntax, </span>
<span id="cb126-2"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb126-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> cbtData, </span>
<span id="cb126-3"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb126-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">fixed.x =</span><span class="cn">FALSE</span>, </span>
<span id="cb126-4"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb126-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">meanstructure =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inter_fit1)</span></code></pre></div>
<pre><code>## lavaan 0.6-10 ended normally after 41 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                        14
##                                                       
##   Number of observations                          1000
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Depression ~                                        
##     CBTDummy  (b1)   -6.812    0.188  -36.312    0.000
##     NeedCog   (b2)    5.559    0.235   23.637    0.000
##     CBTxNedCg (b3)   -8.009    0.338  -23.713    0.000
## 
## Covariances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   CBTDummy ~~                                         
##     NeedCog          -0.008    0.007   -1.163    0.245
##     CBTxNeedCog       0.073    0.006   12.083    0.000
##   NeedCog ~~                                          
##     CBTxNeedCog       0.101    0.006   16.630    0.000
## 
## Intercepts:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Depression        1.268    0.134    9.446    0.000
##     CBTDummy          0.500    0.016   31.623    0.000
##     NeedCog           0.309    0.015   21.147    0.000
##     CBTxNeedCog       0.146    0.011   13.075    0.000
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Depression        6.076    0.272   22.361    0.000
##     CBTDummy          0.250    0.011   22.361    0.000
##     NeedCog           0.214    0.010   22.361    0.000
##     CBTxNeedCog       0.125    0.006   22.361    0.000</code></pre>
<p>How does this compare to our regression model?</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(interactionModel)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = Depression ~ CBTDummy * NeedCog, data = cbtData)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -12.7785  -1.4280   0.0662   1.6252   6.8283 
## 
## Coefficients:
##                  Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)        1.2684     0.1345   9.428   &lt;2e-16 ***
## CBTDummy          -6.8119     0.1880 -36.240   &lt;2e-16 ***
## NeedCog            5.5586     0.2356  23.590   &lt;2e-16 ***
## CBTDummy:NeedCog  -8.0093     0.3384 -23.666   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 2.47 on 996 degrees of freedom
## Multiple R-squared:  0.8095, Adjusted R-squared:  0.809 
## F-statistic:  1411 on 3 and 996 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>Same…but sem is more verbose.</p>
<!------------------------------>
</div>
</div>
<div id="visial-inspection-of-interactions" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> Visial inspection of interactions</h2>
<!------------------------------>
<p>One way to plot the interactions is to use the interact_plot() function on the lm() object.</p>
<p>Install and load the package interactions first:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(interactions)</span></code></pre></div>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">interact_plot</span>(interactionModel, <span class="at">pred =</span> <span class="st">&quot;CBTDummy&quot;</span>, <span class="at">modx =</span> <span class="st">&quot;NeedCog&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-81-1.png" width="672" /></p>
<!------------------------------>
</div>
<div id="centering-continuous-moderator" class="section level2" number="5.5">
<h2><span class="header-section-number">5.5</span> Centering Continuous Moderator</h2>
<!------------------------------>
<p>Now let’s work with the continuous measure of NeedCog directly:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(cbtData<span class="sc">$</span>NeedCogCont)</span></code></pre></div>
<pre><code>## [1] 0.005925852</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(cbtData<span class="sc">$</span>NeedCogCont)</span></code></pre></div>
<pre><code>## [1] 0.9974319</code></pre>
<p>NeedCogCont has been standardized already, which is helpful.</p>
<p>If not, we use scale() function to center a continuous variable</p>
<ul>
<li>Usage: scale(x, center = TRUE, scale = TRUE)</li>
<li>If you just need to center a variable, you disable scale=FALSE</li>
</ul>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb137-1" aria-hidden="true" tabindex="-1"></a>centeredNeedCog <span class="ot">&lt;-</span> <span class="fu">scale</span>(cbtData<span class="sc">$</span>NeedCogCont, <span class="at">center =</span> <span class="cn">TRUE</span>, <span class="at">scale =</span> <span class="cn">TRUE</span>)</span>
<span id="cb137-2"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(centeredNeedCog)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-83-1.png" width="672" /></p>
<p>For now, we will leave these variables as is in our dataset. But the scale() function is good to know.</p>
<!------------------------------>
</div>
<div id="interactions-in-lavaan-continuous-moderator" class="section level2" number="5.6">
<h2><span class="header-section-number">5.6</span> Interactions in Lavaan (Continuous Moderator)</h2>
<!------------------------------>
<p>Just like for binary NeedCog moderator, we have to manually create a product term in the dataset first before running our model.</p>
<p>This is easy to do:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb138-1" aria-hidden="true" tabindex="-1"></a>cbtData<span class="sc">$</span>CBTxNeedCogCont <span class="ot">&lt;-</span> cbtData<span class="sc">$</span>CBTDummy <span class="sc">*</span> cbtData<span class="sc">$</span>NeedCogCont</span></code></pre></div>
<p>Let’s look at cbtData again:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cbtData)</span></code></pre></div>
<pre><code>##   ID              CBT CBTDummy NeedCog NegThoughts Depression NeedCogCont CBTxNeedCog CBTxNeedCogCont
## 1  1    CBT Treatment        1       0  -4.1453029  -5.802172   0.0182802           0       0.0182802
## 2  2 Information Only        0       1   2.1775218   5.496665   1.4238703           0       0.0000000
## 3  3    CBT Treatment        1       0  -1.5551349  -1.950566  -1.0151726           0      -1.0151726
## 4  4 Information Only        0       0   0.1679286   2.655801  -0.8547152           0       0.0000000
## 5  5 Information Only        0       1   2.5103192   6.855488   0.6759705           0       0.0000000
## 6  6    CBT Treatment        1       0  -3.1626670  -2.968198  -0.9123426           0      -0.9123426</code></pre>
<p>Time to write some lavaan model syntax (with labels):</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb141-1" aria-hidden="true" tabindex="-1"></a>interactionSyntax2 <span class="ot">&lt;-</span> <span class="st">&quot;</span></span>
<span id="cb141-2"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="st">    #Regression</span></span>
<span id="cb141-3"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="st">    Depression ~ b1*CBTDummy + b2*NeedCogCont + b3*CBTxNeedCogCont </span></span>
<span id="cb141-4"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb141-4" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;</span></span></code></pre></div>
<p>Let’s ask sem() to include the meanstructure:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb142-1" aria-hidden="true" tabindex="-1"></a>inter_fit2 <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> interactionSyntax2, </span>
<span id="cb142-2"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb142-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> cbtData, </span>
<span id="cb142-3"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb142-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">fixed.x =</span><span class="cn">FALSE</span>, </span>
<span id="cb142-4"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb142-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">meanstructure =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inter_fit2)</span></code></pre></div>
<pre><code>## lavaan 0.6-10 ended normally after 35 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                        14
##                                                       
##   Number of observations                          1000
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Depression ~                                        
##     CBTDummy  (b1)   -9.245    0.113  -82.096    0.000
##     NeedCgCnt (b2)    3.305    0.079   42.064    0.000
##     CBTxNdCgC (b3)   -4.967    0.113  -43.943    0.000
## 
## Covariances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   CBTDummy ~~                                         
##     NeedCogCont      -0.020    0.016   -1.249    0.212
##     CBTxNeedCogCnt   -0.008    0.011   -0.764    0.445
##   NeedCogCont ~~                                      
##     CBTxNeedCogCnt    0.480    0.027   18.055    0.000
## 
## Intercepts:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Depression        2.931    0.080   36.794    0.000
##     CBTDummy          0.500    0.016   31.623    0.000
##     NeedCogCont       0.006    0.032    0.188    0.851
##     CBTxNeedCogCnt   -0.017    0.022   -0.764    0.445
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Depression        3.166    0.142   22.361    0.000
##     CBTDummy          0.250    0.011   22.361    0.000
##     NeedCogCont       0.994    0.044   22.361    0.000
##     CBTxNeedCogCnt    0.480    0.021   22.361    0.000</code></pre>
<!------------------------------>
</div>
<div id="simple-slopes-analysis" class="section level2" number="5.7">
<h2><span class="header-section-number">5.7</span> Simple Slopes Analysis</h2>
<!------------------------------>
<p>pick-a-point (Rogosa, 1980) and plot the simple slopes of X at designated levels of Z:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(cbtData<span class="sc">$</span>NeedCogCont) <span class="co">#0</span></span></code></pre></div>
<pre><code>## [1] 0.005925852</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(cbtData<span class="sc">$</span>NeedCogCont) <span class="co"># almost 1</span></span></code></pre></div>
<pre><code>## [1] 0.9974319</code></pre>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(cbtData<span class="sc">$</span>NeedCogCont) <span class="sc">-</span> <span class="fu">sd</span>(cbtData<span class="sc">$</span>NeedCogCont) <span class="co"># 1sd below the mean</span></span></code></pre></div>
<pre><code>## [1] -0.991506</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(cbtData<span class="sc">$</span>NeedCogCont) <span class="sc">+</span> <span class="fu">sd</span>(cbtData<span class="sc">$</span>NeedCogCont) <span class="co"># 1sd above the mean</span></span></code></pre></div>
<pre><code>## [1] 1.003358</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb153-1" aria-hidden="true" tabindex="-1"></a>interactionSyntax3 <span class="ot">&lt;-</span> <span class="st">&quot;</span></span>
<span id="cb153-2"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb153-2" aria-hidden="true" tabindex="-1"></a><span class="st">    #Regression</span></span>
<span id="cb153-3"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb153-3" aria-hidden="true" tabindex="-1"></a><span class="st">    Depression ~ b1*CBTDummy + b2*NeedCogCont + b3*CBTxNeedCogCont #regression coefficient labels</span></span>
<span id="cb153-4"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb153-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-5"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb153-5" aria-hidden="true" tabindex="-1"></a><span class="st">    #Simple Slopes</span></span>
<span id="cb153-6"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb153-6" aria-hidden="true" tabindex="-1"></a><span class="st">    </span></span>
<span id="cb153-7"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb153-7" aria-hidden="true" tabindex="-1"></a><span class="st">    SSHigh := b1+b3*1       #Since sd(NeedCogCont) = approximately 1, this is +1 SD</span></span>
<span id="cb153-8"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb153-8" aria-hidden="true" tabindex="-1"></a><span class="st">    SSMod := b1+b3*0          #at the mean of (centered) NeedCogCont</span></span>
<span id="cb153-9"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb153-9" aria-hidden="true" tabindex="-1"></a><span class="st">    SSLow := b1+b3*(-1)   #Low Simple Slope is at -1 (1 SD below since SD = 1)</span></span>
<span id="cb153-10"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb153-10" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb154-1" aria-hidden="true" tabindex="-1"></a>inter_fit3 <span class="ot">&lt;-</span> <span class="fu">sem</span>(<span class="at">model =</span> interactionSyntax3, </span>
<span id="cb154-2"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb154-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">data =</span> cbtData, </span>
<span id="cb154-3"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb154-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">fixed.x =</span><span class="cn">FALSE</span>, </span>
<span id="cb154-4"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb154-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">meanstructure =</span> <span class="cn">TRUE</span>)</span>
<span id="cb154-5"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb154-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-6"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb154-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(inter_fit3)</span></code></pre></div>
<pre><code>## lavaan 0.6-10 ended normally after 35 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of model parameters                        14
##                                                       
##   Number of observations                          1000
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                 0.000
##   Degrees of freedom                                 0
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Regressions:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   Depression ~                                        
##     CBTDummy  (b1)   -9.245    0.113  -82.096    0.000
##     NeedCgCnt (b2)    3.305    0.079   42.064    0.000
##     CBTxNdCgC (b3)   -4.967    0.113  -43.943    0.000
## 
## Covariances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##   CBTDummy ~~                                         
##     NeedCogCont      -0.020    0.016   -1.249    0.212
##     CBTxNeedCogCnt   -0.008    0.011   -0.764    0.445
##   NeedCogCont ~~                                      
##     CBTxNeedCogCnt    0.480    0.027   18.055    0.000
## 
## Intercepts:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Depression        2.931    0.080   36.794    0.000
##     CBTDummy          0.500    0.016   31.623    0.000
##     NeedCogCont       0.006    0.032    0.188    0.851
##     CBTxNeedCogCnt   -0.017    0.022   -0.764    0.445
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##    .Depression        3.166    0.142   22.361    0.000
##     CBTDummy          0.250    0.011   22.361    0.000
##     NeedCogCont       0.994    0.044   22.361    0.000
##     CBTxNeedCogCnt    0.480    0.021   22.361    0.000
## 
## Defined Parameters:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)
##     SSHigh          -14.212    0.159  -89.281    0.000
##     SSMod            -9.245    0.113  -82.096    0.000
##     SSLow            -4.279    0.160  -26.755    0.000</code></pre>
<p>Now we have tests of the simple slopes at low, moderate, and high values of the moderator!</p>
<p>Along with significance tests.</p>
<!------------------------------>
</div>
<div id="visual-inspection-of-interactions-lm-approach" class="section level2" number="5.8">
<h2><span class="header-section-number">5.8</span> Visual inspection of interactions (lm approach)</h2>
<!------------------------------>
<p>Interactions in Regression Using lm()</p>
<p>To include ab interaction in regression, simply use an * to create a product in the formula.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb156-1" aria-hidden="true" tabindex="-1"></a>interactionModel2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Depression <span class="sc">~</span> CBTDummy<span class="sc">*</span>NeedCogCont, cbtData)</span>
<span id="cb156-2"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb156-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-3"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb156-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(interactionModel2)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = Depression ~ CBTDummy * NeedCogCont, data = cbtData)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -5.7282 -1.1381  0.0649  1.2229  4.4762 
## 
## Coefficients:
##                      Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)           2.93065    0.07981   36.72   &lt;2e-16 ***
## CBTDummy             -9.24546    0.11284  -81.93   &lt;2e-16 ***
## NeedCogCont           3.30525    0.07873   41.98   &lt;2e-16 ***
## CBTDummy:NeedCogCont -4.96674    0.11325  -43.85   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1.783 on 996 degrees of freedom
## Multiple R-squared:  0.9008, Adjusted R-squared:  0.9005 
## F-statistic:  3013 on 3 and 996 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>pick-a-point (Rogosa, 1980) and plot the simple slopes of X at designated levels of Z:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(interactions)</span>
<span id="cb158-2"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb158-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-3"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="fu">interact_plot</span>(interactionModel2, <span class="at">pred =</span> <span class="st">&quot;CBTDummy&quot;</span>, <span class="at">modx =</span> <span class="st">&quot;NeedCogCont&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-93-1.png" width="672" /></p>
<!------------------------------>
</div>
<div id="johnson-neyman-interval" class="section level2" number="5.9">
<h2><span class="header-section-number">5.9</span> JOHNSON-NEYMAN INTERVAL</h2>
<!------------------------------>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb159-1" aria-hidden="true" tabindex="-1"></a>interactions<span class="sc">::</span><span class="fu">johnson_neyman</span>(interactionModel2, <span class="at">pred =</span> <span class="st">&quot;CBTDummy&quot;</span>, <span class="at">modx =</span> <span class="st">&quot;NeedCogCont&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.05</span>)</span></code></pre></div>
<pre><code>## JOHNSON-NEYMAN INTERVAL 
## 
## When NeedCogCont is OUTSIDE the interval [-1.96, -1.77], the slope of CBTDummy is p &lt; .05.
## 
## Note: The range of observed values of NeedCogCont is [-2.83, 3.31]</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-94-1.png" width="672" /></p>
<!------------------------------>
</div>
<div id="exercise-how-framing-affects-justifications-for-giving-or-withholding-aid-to-disaster-victims" class="section level2" number="5.10">
<h2><span class="header-section-number">5.10</span> Exercise: How Framing Affects Justifications for Giving or Withholding Aid to Disaster Victims</h2>
<!------------------------------>
<p>For this exercise, we will use a real dataset in a study by Chapman and Lickel (2016).</p>
<p>This study was interested in examining the relation between Climate Change and Disasters: How Framing Affects Justifications for Giving or Withholding Aid to Disaster Victims?</p>
<p>Researchers hypothesizes that Framing a natural disaster as the product of climate change impacts attitudes toward disaster victims and humanitarian relief.</p>
<p>The predictor is X/Frame:</p>
<ul>
<li>Participants read a story about a humanitarian crisis caused by a drought in Africa.</li>
<li>X = 1: Half of the participants were told that the drought was caused by climate change (the climate change condition)</li>
<li>X = 0: The other half were not told anything about the specific cause of the drought and thus had no reason to believe it wasn’t the result of natural causes (the natural causes condition).</li>
</ul>
<p>The outcome is Y/Donate:</p>
<ul>
<li>the participants’ willingness to donate to the victims was assessed using a set of questions.</li>
<li>Responses were made on a set of 7-point scales, with higher scores reflecting a greater willingness to donate to the victims</li>
</ul>
<p>The moderator is W/Skeptic:</p>
<ul>
<li>The belief whether climate change is a real phenomenon was also measured.</li>
</ul>
<p>The moderation model looks at whether the attribution frame manipulation (X) might have had a different effect on people’s willingness to donate (Y) depending on their climate change skepticism (M)</p>
<div id="data-prep" class="section level3" number="5.10.1">
<h3><span class="header-section-number">5.10.1</span> Data Prep</h3>
<p>The following example data are from Chapman and Lickel (2016)</p>
<p>Also example data in Chapter 12 of Hayes (2017)</p>
<p>Simply load the .rda into R:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;disaster.rda&quot;</span>)</span>
<span id="cb161-2"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb161-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-3"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb161-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(disaster)</span></code></pre></div>
<pre><code>##   id frame donate justify skeptic
## 1  1     1    5.6    2.95     1.8
## 2  2     1    4.2    2.85     5.2
## 3  3     1    4.2    3.00     3.2
## 4  4     1    4.6    3.30     1.0
## 5  5     1    3.0    5.00     7.6
## 6  6     0    5.0    3.20     4.2</code></pre>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(disaster)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    211 obs. of  5 variables:
##  $ id     : num  1 2 3 4 5 6 7 8 9 10 ...
##   ..- attr(*, &quot;format.spss&quot;)= chr &quot;F8.0&quot;
##   ..- attr(*, &quot;display_width&quot;)= int 6
##  $ frame  : num  1 1 1 1 1 0 0 1 0 0 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;Experimental condition&quot;
##   ..- attr(*, &quot;format.spss&quot;)= chr &quot;F8.2&quot;
##   ..- attr(*, &quot;labels&quot;)= Named num [1:2] 0 1
##   .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;naturally caused disaster&quot; &quot;climate change caused disaster&quot;
##  $ donate : num  5.6 4.2 4.2 4.6 3 5 4.8 6 4.2 4.4 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;Positive attitudes toward donating&quot;
##   ..- attr(*, &quot;format.spss&quot;)= chr &quot;F8.2&quot;
##   ..- attr(*, &quot;display_width&quot;)= int 9
##  $ justify: num  2.95 2.85 3 3.3 5 3.2 2.9 1.4 3.25 3.55 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;Negative justifications&quot;
##   ..- attr(*, &quot;format.spss&quot;)= chr &quot;F8.2&quot;
##   ..- attr(*, &quot;display_width&quot;)= int 10
##  $ skeptic: num  1.8 5.2 3.2 1 7.6 4.2 4.2 1.2 1.8 8.8 ...
##   ..- attr(*, &quot;label&quot;)= chr &quot;Climate change skepticism&quot;
##   ..- attr(*, &quot;format.spss&quot;)= chr &quot;F8.2&quot;</code></pre>
<p>If you are able to install package processR, you can also view its help page:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;processR&quot;</span>)</span>
<span id="cb165-2"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb165-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-3"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb165-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(processR)</span>
<span id="cb165-4"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb165-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-5"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb165-5" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(disaster)</span>
<span id="cb165-6"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb165-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-7"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb165-7" aria-hidden="true" tabindex="-1"></a><span class="co"># take a look at the dataset: </span></span>
<span id="cb165-8"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb165-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-9"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb165-9" aria-hidden="true" tabindex="-1"></a>?disaster</span></code></pre></div>
<p>You probably have to go to <a href="https://www.xquartz.org/" class="uri">https://www.xquartz.org/</a> to download and install X11, which is a server required by many R packages, including processR.</p>
<p>Now, disaster is a data.frame with 211 obs. of 5 variables:</p>
<ul>
<li>id</li>
<li>frame: Experimental condition. 0 = naturally caused disaster, 1 = climate change caused disaster</li>
<li>donate: Positive attitudes toward donating</li>
<li>justify: Negative justifications</li>
<li>skeptic: Climate change skepticism</li>
</ul>
</div>
<div id="moderation-with-a-binary-moderator" class="section level3" number="5.10.2">
<h3><span class="header-section-number">5.10.2</span> Moderation with a binary moderator</h3>
<p>Let me first manually create a binary moderator based on the continuous version of skeptic:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb166-1" aria-hidden="true" tabindex="-1"></a>disaster<span class="sc">$</span>skeptic_b <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(disaster<span class="sc">$</span>skeptic<span class="sc">&lt;</span><span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">1</span>) <span class="co"># low and high levels of skeptism of climate change</span></span>
<span id="cb166-2"><a href="week5_1-lavaan-lab-3-moderation-and-conditional-effects.html#cb166-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(disaster<span class="sc">$</span>skeptic_b)</span></code></pre></div>
<pre><code>## 
##   0   1 
## 112  99</code></pre>
<p>Next, can you test the moderation effect of skeptic_b on the path from frame to donate? (you can use either lm or lavaan)</p>
<p>Please interpret the coefficients in the model above and visualize the interaction using interact_plot().</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="week4_2-lavaan-lab-2-mediation-and-indirect-effects.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
